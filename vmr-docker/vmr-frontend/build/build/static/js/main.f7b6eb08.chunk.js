(this["webpackJsonpmessenger-ui"]=this["webpackJsonpmessenger-ui"]||[]).push([[1],{100:function(e,t,r){"use strict";r.d(t,"a",(function(){return a})),r.d(t,"c",(function(){return o})),r.d(t,"b",(function(){return i}));var n=r(138),s=r.n(n);function a(e,t){return s.a.post("http://localhost:8080/api/public"+e,t)}function o(e,t){var r=localStorage.getItem("jwtToken");return s.a.post("http://localhost:8080/api/protected"+e,t,{headers:{Authorization:"Bearer "+r}})}function i(e){var t=localStorage.getItem("jwtToken");return s.a.get("http://localhost:8080/api/protected"+e,{headers:{Authorization:"Bearer "+t}})}},114:function(e,t,r){var n=r(142),s=n,a=Function("return this")(),o=r(83);s.exportSymbol("proto.vmr.ClearUnreadMessageRequest",null,a),s.exportSymbol("proto.vmr.ClearUnreadMessageResponse",null,a),s.exportSymbol("proto.vmr.FriendInfo",null,a),s.exportSymbol("proto.vmr.FriendListResponse",null,a),s.exportSymbol("proto.vmr.FriendStatus",null,a),s.exportSymbol("proto.vmr.GetUserInfoRequest",null,a),s.exportSymbol("proto.vmr.GetUserInfoResponse",null,a),s.exportSymbol("proto.vmr.SetFriendStatusRequest",null,a),s.exportSymbol("proto.vmr.SetFriendStatusRequest.Type",null,a),s.exportSymbol("proto.vmr.SetFriendStatusResponse",null,a),s.exportSymbol("proto.vmr.UserListRequest",null,a),s.exportSymbol("proto.vmr.UserListResponse",null,a),s.exportSymbol("proto.vmr.UserResponse",null,a),proto.vmr.GetUserInfoRequest=function(e){n.Message.initialize(this,e,0,-1,null,null)},s.inherits(proto.vmr.GetUserInfoRequest,n.Message),s.DEBUG&&!COMPILED&&(proto.vmr.GetUserInfoRequest.displayName="proto.vmr.GetUserInfoRequest"),n.Message.GENERATE_TO_OBJECT&&(proto.vmr.GetUserInfoRequest.prototype.toObject=function(e){return proto.vmr.GetUserInfoRequest.toObject(e,this)},proto.vmr.GetUserInfoRequest.toObject=function(e,t){var r={userId:n.Message.getFieldWithDefault(t,1,0)};return e&&(r.$jspbMessageInstance=t),r}),proto.vmr.GetUserInfoRequest.deserializeBinary=function(e){var t=new n.BinaryReader(e),r=new proto.vmr.GetUserInfoRequest;return proto.vmr.GetUserInfoRequest.deserializeBinaryFromReader(r,t)},proto.vmr.GetUserInfoRequest.deserializeBinaryFromReader=function(e,t){for(;t.nextField()&&!t.isEndGroup();){switch(t.getFieldNumber()){case 1:var r=t.readInt64();e.setUserId(r);break;default:t.skipField()}}return e},proto.vmr.GetUserInfoRequest.prototype.serializeBinary=function(){var e=new n.BinaryWriter;return proto.vmr.GetUserInfoRequest.serializeBinaryToWriter(this,e),e.getResultBuffer()},proto.vmr.GetUserInfoRequest.serializeBinaryToWriter=function(e,t){var r;0!==(r=e.getUserId())&&t.writeInt64(1,r)},proto.vmr.GetUserInfoRequest.prototype.getUserId=function(){return n.Message.getFieldWithDefault(this,1,0)},proto.vmr.GetUserInfoRequest.prototype.setUserId=function(e){n.Message.setProto3IntField(this,1,e)},proto.vmr.GetUserInfoResponse=function(e){n.Message.initialize(this,e,0,-1,null,null)},s.inherits(proto.vmr.GetUserInfoResponse,n.Message),s.DEBUG&&!COMPILED&&(proto.vmr.GetUserInfoResponse.displayName="proto.vmr.GetUserInfoResponse"),n.Message.GENERATE_TO_OBJECT&&(proto.vmr.GetUserInfoResponse.prototype.toObject=function(e){return proto.vmr.GetUserInfoResponse.toObject(e,this)},proto.vmr.GetUserInfoResponse.toObject=function(e,t){var r,n={error:(r=t.getError())&&o.Error.toObject(e,r),user:(r=t.getUser())&&proto.vmr.UserResponse.toObject(e,r)};return e&&(n.$jspbMessageInstance=t),n}),proto.vmr.GetUserInfoResponse.deserializeBinary=function(e){var t=new n.BinaryReader(e),r=new proto.vmr.GetUserInfoResponse;return proto.vmr.GetUserInfoResponse.deserializeBinaryFromReader(r,t)},proto.vmr.GetUserInfoResponse.deserializeBinaryFromReader=function(e,t){for(;t.nextField()&&!t.isEndGroup();){switch(t.getFieldNumber()){case 1:var r=new o.Error;t.readMessage(r,o.Error.deserializeBinaryFromReader),e.setError(r);break;case 2:r=new proto.vmr.UserResponse;t.readMessage(r,proto.vmr.UserResponse.deserializeBinaryFromReader),e.setUser(r);break;default:t.skipField()}}return e},proto.vmr.GetUserInfoResponse.prototype.serializeBinary=function(){var e=new n.BinaryWriter;return proto.vmr.GetUserInfoResponse.serializeBinaryToWriter(this,e),e.getResultBuffer()},proto.vmr.GetUserInfoResponse.serializeBinaryToWriter=function(e,t){var r=void 0;null!=(r=e.getError())&&t.writeMessage(1,r,o.Error.serializeBinaryToWriter),null!=(r=e.getUser())&&t.writeMessage(2,r,proto.vmr.UserResponse.serializeBinaryToWriter)},proto.vmr.GetUserInfoResponse.prototype.getError=function(){return n.Message.getWrapperField(this,o.Error,1)},proto.vmr.GetUserInfoResponse.prototype.setError=function(e){n.Message.setWrapperField(this,1,e)},proto.vmr.GetUserInfoResponse.prototype.clearError=function(){this.setError(void 0)},proto.vmr.GetUserInfoResponse.prototype.hasError=function(){return null!=n.Message.getField(this,1)},proto.vmr.GetUserInfoResponse.prototype.getUser=function(){return n.Message.getWrapperField(this,proto.vmr.UserResponse,2)},proto.vmr.GetUserInfoResponse.prototype.setUser=function(e){n.Message.setWrapperField(this,2,e)},proto.vmr.GetUserInfoResponse.prototype.clearUser=function(){this.setUser(void 0)},proto.vmr.GetUserInfoResponse.prototype.hasUser=function(){return null!=n.Message.getField(this,2)},proto.vmr.FriendListResponse=function(e){n.Message.initialize(this,e,0,-1,proto.vmr.FriendListResponse.repeatedFields_,null)},s.inherits(proto.vmr.FriendListResponse,n.Message),s.DEBUG&&!COMPILED&&(proto.vmr.FriendListResponse.displayName="proto.vmr.FriendListResponse"),proto.vmr.FriendListResponse.repeatedFields_=[2],n.Message.GENERATE_TO_OBJECT&&(proto.vmr.FriendListResponse.prototype.toObject=function(e){return proto.vmr.FriendListResponse.toObject(e,this)},proto.vmr.FriendListResponse.toObject=function(e,t){var r,s={error:(r=t.getError())&&o.Error.toObject(e,r),friendInfoList:n.Message.toObjectList(t.getFriendInfoList(),proto.vmr.FriendInfo.toObject,e)};return e&&(s.$jspbMessageInstance=t),s}),proto.vmr.FriendListResponse.deserializeBinary=function(e){var t=new n.BinaryReader(e),r=new proto.vmr.FriendListResponse;return proto.vmr.FriendListResponse.deserializeBinaryFromReader(r,t)},proto.vmr.FriendListResponse.deserializeBinaryFromReader=function(e,t){for(;t.nextField()&&!t.isEndGroup();){switch(t.getFieldNumber()){case 1:var r=new o.Error;t.readMessage(r,o.Error.deserializeBinaryFromReader),e.setError(r);break;case 2:r=new proto.vmr.FriendInfo;t.readMessage(r,proto.vmr.FriendInfo.deserializeBinaryFromReader),e.addFriendInfo(r);break;default:t.skipField()}}return e},proto.vmr.FriendListResponse.prototype.serializeBinary=function(){var e=new n.BinaryWriter;return proto.vmr.FriendListResponse.serializeBinaryToWriter(this,e),e.getResultBuffer()},proto.vmr.FriendListResponse.serializeBinaryToWriter=function(e,t){var r=void 0;null!=(r=e.getError())&&t.writeMessage(1,r,o.Error.serializeBinaryToWriter),(r=e.getFriendInfoList()).length>0&&t.writeRepeatedMessage(2,r,proto.vmr.FriendInfo.serializeBinaryToWriter)},proto.vmr.FriendListResponse.prototype.getError=function(){return n.Message.getWrapperField(this,o.Error,1)},proto.vmr.FriendListResponse.prototype.setError=function(e){n.Message.setWrapperField(this,1,e)},proto.vmr.FriendListResponse.prototype.clearError=function(){this.setError(void 0)},proto.vmr.FriendListResponse.prototype.hasError=function(){return null!=n.Message.getField(this,1)},proto.vmr.FriendListResponse.prototype.getFriendInfoList=function(){return n.Message.getRepeatedWrapperField(this,proto.vmr.FriendInfo,2)},proto.vmr.FriendListResponse.prototype.setFriendInfoList=function(e){n.Message.setRepeatedWrapperField(this,2,e)},proto.vmr.FriendListResponse.prototype.addFriendInfo=function(e,t){return n.Message.addToRepeatedWrapperField(this,2,e,proto.vmr.FriendInfo,t)},proto.vmr.FriendListResponse.prototype.clearFriendInfoList=function(){this.setFriendInfoList([])},proto.vmr.FriendInfo=function(e){n.Message.initialize(this,e,0,-1,null,null)},s.inherits(proto.vmr.FriendInfo,n.Message),s.DEBUG&&!COMPILED&&(proto.vmr.FriendInfo.displayName="proto.vmr.FriendInfo"),n.Message.GENERATE_TO_OBJECT&&(proto.vmr.FriendInfo.prototype.toObject=function(e){return proto.vmr.FriendInfo.toObject(e,this)},proto.vmr.FriendInfo.toObject=function(e,t){var r={id:n.Message.getFieldWithDefault(t,1,0),username:n.Message.getFieldWithDefault(t,2,""),name:n.Message.getFieldWithDefault(t,3,""),online:n.Message.getFieldWithDefault(t,4,!1),lastMessage:n.Message.getFieldWithDefault(t,5,""),lastMessageType:n.Message.getFieldWithDefault(t,6,""),lastMessageSender:n.Message.getFieldWithDefault(t,7,0),lastMessageTimestamp:n.Message.getFieldWithDefault(t,8,0),numUnreadMessage:n.Message.getFieldWithDefault(t,9,0),friendStatus:n.Message.getFieldWithDefault(t,10,0)};return e&&(r.$jspbMessageInstance=t),r}),proto.vmr.FriendInfo.deserializeBinary=function(e){var t=new n.BinaryReader(e),r=new proto.vmr.FriendInfo;return proto.vmr.FriendInfo.deserializeBinaryFromReader(r,t)},proto.vmr.FriendInfo.deserializeBinaryFromReader=function(e,t){for(;t.nextField()&&!t.isEndGroup();){switch(t.getFieldNumber()){case 1:var r=t.readInt64();e.setId(r);break;case 2:r=t.readString();e.setUsername(r);break;case 3:r=t.readString();e.setName(r);break;case 4:r=t.readBool();e.setOnline(r);break;case 5:r=t.readString();e.setLastMessage(r);break;case 6:r=t.readString();e.setLastMessageType(r);break;case 7:r=t.readInt64();e.setLastMessageSender(r);break;case 8:r=t.readInt64();e.setLastMessageTimestamp(r);break;case 9:r=t.readInt64();e.setNumUnreadMessage(r);break;case 10:r=t.readEnum();e.setFriendStatus(r);break;default:t.skipField()}}return e},proto.vmr.FriendInfo.prototype.serializeBinary=function(){var e=new n.BinaryWriter;return proto.vmr.FriendInfo.serializeBinaryToWriter(this,e),e.getResultBuffer()},proto.vmr.FriendInfo.serializeBinaryToWriter=function(e,t){var r=void 0;0!==(r=e.getId())&&t.writeInt64(1,r),(r=e.getUsername()).length>0&&t.writeString(2,r),(r=e.getName()).length>0&&t.writeString(3,r),(r=e.getOnline())&&t.writeBool(4,r),(r=e.getLastMessage()).length>0&&t.writeString(5,r),(r=e.getLastMessageType()).length>0&&t.writeString(6,r),0!==(r=e.getLastMessageSender())&&t.writeInt64(7,r),0!==(r=e.getLastMessageTimestamp())&&t.writeInt64(8,r),0!==(r=e.getNumUnreadMessage())&&t.writeInt64(9,r),0!==(r=e.getFriendStatus())&&t.writeEnum(10,r)},proto.vmr.FriendInfo.prototype.getId=function(){return n.Message.getFieldWithDefault(this,1,0)},proto.vmr.FriendInfo.prototype.setId=function(e){n.Message.setProto3IntField(this,1,e)},proto.vmr.FriendInfo.prototype.getUsername=function(){return n.Message.getFieldWithDefault(this,2,"")},proto.vmr.FriendInfo.prototype.setUsername=function(e){n.Message.setProto3StringField(this,2,e)},proto.vmr.FriendInfo.prototype.getName=function(){return n.Message.getFieldWithDefault(this,3,"")},proto.vmr.FriendInfo.prototype.setName=function(e){n.Message.setProto3StringField(this,3,e)},proto.vmr.FriendInfo.prototype.getOnline=function(){return n.Message.getFieldWithDefault(this,4,!1)},proto.vmr.FriendInfo.prototype.setOnline=function(e){n.Message.setProto3BooleanField(this,4,e)},proto.vmr.FriendInfo.prototype.getLastMessage=function(){return n.Message.getFieldWithDefault(this,5,"")},proto.vmr.FriendInfo.prototype.setLastMessage=function(e){n.Message.setProto3StringField(this,5,e)},proto.vmr.FriendInfo.prototype.getLastMessageType=function(){return n.Message.getFieldWithDefault(this,6,"")},proto.vmr.FriendInfo.prototype.setLastMessageType=function(e){n.Message.setProto3StringField(this,6,e)},proto.vmr.FriendInfo.prototype.getLastMessageSender=function(){return n.Message.getFieldWithDefault(this,7,0)},proto.vmr.FriendInfo.prototype.setLastMessageSender=function(e){n.Message.setProto3IntField(this,7,e)},proto.vmr.FriendInfo.prototype.getLastMessageTimestamp=function(){return n.Message.getFieldWithDefault(this,8,0)},proto.vmr.FriendInfo.prototype.setLastMessageTimestamp=function(e){n.Message.setProto3IntField(this,8,e)},proto.vmr.FriendInfo.prototype.getNumUnreadMessage=function(){return n.Message.getFieldWithDefault(this,9,0)},proto.vmr.FriendInfo.prototype.setNumUnreadMessage=function(e){n.Message.setProto3IntField(this,9,e)},proto.vmr.FriendInfo.prototype.getFriendStatus=function(){return n.Message.getFieldWithDefault(this,10,0)},proto.vmr.FriendInfo.prototype.setFriendStatus=function(e){n.Message.setProto3EnumField(this,10,e)},proto.vmr.UserListRequest=function(e){n.Message.initialize(this,e,0,-1,null,null)},s.inherits(proto.vmr.UserListRequest,n.Message),s.DEBUG&&!COMPILED&&(proto.vmr.UserListRequest.displayName="proto.vmr.UserListRequest"),n.Message.GENERATE_TO_OBJECT&&(proto.vmr.UserListRequest.prototype.toObject=function(e){return proto.vmr.UserListRequest.toObject(e,this)},proto.vmr.UserListRequest.toObject=function(e,t){var r={queryString:n.Message.getFieldWithDefault(t,1,"")};return e&&(r.$jspbMessageInstance=t),r}),proto.vmr.UserListRequest.deserializeBinary=function(e){var t=new n.BinaryReader(e),r=new proto.vmr.UserListRequest;return proto.vmr.UserListRequest.deserializeBinaryFromReader(r,t)},proto.vmr.UserListRequest.deserializeBinaryFromReader=function(e,t){for(;t.nextField()&&!t.isEndGroup();){switch(t.getFieldNumber()){case 1:var r=t.readString();e.setQueryString(r);break;default:t.skipField()}}return e},proto.vmr.UserListRequest.prototype.serializeBinary=function(){var e=new n.BinaryWriter;return proto.vmr.UserListRequest.serializeBinaryToWriter(this,e),e.getResultBuffer()},proto.vmr.UserListRequest.serializeBinaryToWriter=function(e,t){var r;(r=e.getQueryString()).length>0&&t.writeString(1,r)},proto.vmr.UserListRequest.prototype.getQueryString=function(){return n.Message.getFieldWithDefault(this,1,"")},proto.vmr.UserListRequest.prototype.setQueryString=function(e){n.Message.setProto3StringField(this,1,e)},proto.vmr.UserListResponse=function(e){n.Message.initialize(this,e,0,-1,proto.vmr.UserListResponse.repeatedFields_,null)},s.inherits(proto.vmr.UserListResponse,n.Message),s.DEBUG&&!COMPILED&&(proto.vmr.UserListResponse.displayName="proto.vmr.UserListResponse"),proto.vmr.UserListResponse.repeatedFields_=[2],n.Message.GENERATE_TO_OBJECT&&(proto.vmr.UserListResponse.prototype.toObject=function(e){return proto.vmr.UserListResponse.toObject(e,this)},proto.vmr.UserListResponse.toObject=function(e,t){var r,s={error:(r=t.getError())&&o.Error.toObject(e,r),userList:n.Message.toObjectList(t.getUserList(),proto.vmr.UserResponse.toObject,e)};return e&&(s.$jspbMessageInstance=t),s}),proto.vmr.UserListResponse.deserializeBinary=function(e){var t=new n.BinaryReader(e),r=new proto.vmr.UserListResponse;return proto.vmr.UserListResponse.deserializeBinaryFromReader(r,t)},proto.vmr.UserListResponse.deserializeBinaryFromReader=function(e,t){for(;t.nextField()&&!t.isEndGroup();){switch(t.getFieldNumber()){case 1:var r=new o.Error;t.readMessage(r,o.Error.deserializeBinaryFromReader),e.setError(r);break;case 2:r=new proto.vmr.UserResponse;t.readMessage(r,proto.vmr.UserResponse.deserializeBinaryFromReader),e.addUser(r);break;default:t.skipField()}}return e},proto.vmr.UserListResponse.prototype.serializeBinary=function(){var e=new n.BinaryWriter;return proto.vmr.UserListResponse.serializeBinaryToWriter(this,e),e.getResultBuffer()},proto.vmr.UserListResponse.serializeBinaryToWriter=function(e,t){var r=void 0;null!=(r=e.getError())&&t.writeMessage(1,r,o.Error.serializeBinaryToWriter),(r=e.getUserList()).length>0&&t.writeRepeatedMessage(2,r,proto.vmr.UserResponse.serializeBinaryToWriter)},proto.vmr.UserListResponse.prototype.getError=function(){return n.Message.getWrapperField(this,o.Error,1)},proto.vmr.UserListResponse.prototype.setError=function(e){n.Message.setWrapperField(this,1,e)},proto.vmr.UserListResponse.prototype.clearError=function(){this.setError(void 0)},proto.vmr.UserListResponse.prototype.hasError=function(){return null!=n.Message.getField(this,1)},proto.vmr.UserListResponse.prototype.getUserList=function(){return n.Message.getRepeatedWrapperField(this,proto.vmr.UserResponse,2)},proto.vmr.UserListResponse.prototype.setUserList=function(e){n.Message.setRepeatedWrapperField(this,2,e)},proto.vmr.UserListResponse.prototype.addUser=function(e,t){return n.Message.addToRepeatedWrapperField(this,2,e,proto.vmr.UserResponse,t)},proto.vmr.UserListResponse.prototype.clearUserList=function(){this.setUserList([])},proto.vmr.UserResponse=function(e){n.Message.initialize(this,e,0,-1,null,null)},s.inherits(proto.vmr.UserResponse,n.Message),s.DEBUG&&!COMPILED&&(proto.vmr.UserResponse.displayName="proto.vmr.UserResponse"),n.Message.GENERATE_TO_OBJECT&&(proto.vmr.UserResponse.prototype.toObject=function(e){return proto.vmr.UserResponse.toObject(e,this)},proto.vmr.UserResponse.toObject=function(e,t){var r={id:n.Message.getFieldWithDefault(t,1,0),username:n.Message.getFieldWithDefault(t,2,""),name:n.Message.getFieldWithDefault(t,3,""),friendStatus:n.Message.getFieldWithDefault(t,4,0)};return e&&(r.$jspbMessageInstance=t),r}),proto.vmr.UserResponse.deserializeBinary=function(e){var t=new n.BinaryReader(e),r=new proto.vmr.UserResponse;return proto.vmr.UserResponse.deserializeBinaryFromReader(r,t)},proto.vmr.UserResponse.deserializeBinaryFromReader=function(e,t){for(;t.nextField()&&!t.isEndGroup();){switch(t.getFieldNumber()){case 1:var r=t.readInt64();e.setId(r);break;case 2:r=t.readString();e.setUsername(r);break;case 3:r=t.readString();e.setName(r);break;case 4:r=t.readEnum();e.setFriendStatus(r);break;default:t.skipField()}}return e},proto.vmr.UserResponse.prototype.serializeBinary=function(){var e=new n.BinaryWriter;return proto.vmr.UserResponse.serializeBinaryToWriter(this,e),e.getResultBuffer()},proto.vmr.UserResponse.serializeBinaryToWriter=function(e,t){var r=void 0;0!==(r=e.getId())&&t.writeInt64(1,r),(r=e.getUsername()).length>0&&t.writeString(2,r),(r=e.getName()).length>0&&t.writeString(3,r),0!==(r=e.getFriendStatus())&&t.writeEnum(4,r)},proto.vmr.UserResponse.prototype.getId=function(){return n.Message.getFieldWithDefault(this,1,0)},proto.vmr.UserResponse.prototype.setId=function(e){n.Message.setProto3IntField(this,1,e)},proto.vmr.UserResponse.prototype.getUsername=function(){return n.Message.getFieldWithDefault(this,2,"")},proto.vmr.UserResponse.prototype.setUsername=function(e){n.Message.setProto3StringField(this,2,e)},proto.vmr.UserResponse.prototype.getName=function(){return n.Message.getFieldWithDefault(this,3,"")},proto.vmr.UserResponse.prototype.setName=function(e){n.Message.setProto3StringField(this,3,e)},proto.vmr.UserResponse.prototype.getFriendStatus=function(){return n.Message.getFieldWithDefault(this,4,0)},proto.vmr.UserResponse.prototype.setFriendStatus=function(e){n.Message.setProto3EnumField(this,4,e)},proto.vmr.ClearUnreadMessageRequest=function(e){n.Message.initialize(this,e,0,-1,null,null)},s.inherits(proto.vmr.ClearUnreadMessageRequest,n.Message),s.DEBUG&&!COMPILED&&(proto.vmr.ClearUnreadMessageRequest.displayName="proto.vmr.ClearUnreadMessageRequest"),n.Message.GENERATE_TO_OBJECT&&(proto.vmr.ClearUnreadMessageRequest.prototype.toObject=function(e){return proto.vmr.ClearUnreadMessageRequest.toObject(e,this)},proto.vmr.ClearUnreadMessageRequest.toObject=function(e,t){var r={friendId:n.Message.getFieldWithDefault(t,1,0)};return e&&(r.$jspbMessageInstance=t),r}),proto.vmr.ClearUnreadMessageRequest.deserializeBinary=function(e){var t=new n.BinaryReader(e),r=new proto.vmr.ClearUnreadMessageRequest;return proto.vmr.ClearUnreadMessageRequest.deserializeBinaryFromReader(r,t)},proto.vmr.ClearUnreadMessageRequest.deserializeBinaryFromReader=function(e,t){for(;t.nextField()&&!t.isEndGroup();){switch(t.getFieldNumber()){case 1:var r=t.readInt64();e.setFriendId(r);break;default:t.skipField()}}return e},proto.vmr.ClearUnreadMessageRequest.prototype.serializeBinary=function(){var e=new n.BinaryWriter;return proto.vmr.ClearUnreadMessageRequest.serializeBinaryToWriter(this,e),e.getResultBuffer()},proto.vmr.ClearUnreadMessageRequest.serializeBinaryToWriter=function(e,t){var r;0!==(r=e.getFriendId())&&t.writeInt64(1,r)},proto.vmr.ClearUnreadMessageRequest.prototype.getFriendId=function(){return n.Message.getFieldWithDefault(this,1,0)},proto.vmr.ClearUnreadMessageRequest.prototype.setFriendId=function(e){n.Message.setProto3IntField(this,1,e)},proto.vmr.ClearUnreadMessageResponse=function(e){n.Message.initialize(this,e,0,-1,null,null)},s.inherits(proto.vmr.ClearUnreadMessageResponse,n.Message),s.DEBUG&&!COMPILED&&(proto.vmr.ClearUnreadMessageResponse.displayName="proto.vmr.ClearUnreadMessageResponse"),n.Message.GENERATE_TO_OBJECT&&(proto.vmr.ClearUnreadMessageResponse.prototype.toObject=function(e){return proto.vmr.ClearUnreadMessageResponse.toObject(e,this)},proto.vmr.ClearUnreadMessageResponse.toObject=function(e,t){var r,n={error:(r=t.getError())&&o.Error.toObject(e,r)};return e&&(n.$jspbMessageInstance=t),n}),proto.vmr.ClearUnreadMessageResponse.deserializeBinary=function(e){var t=new n.BinaryReader(e),r=new proto.vmr.ClearUnreadMessageResponse;return proto.vmr.ClearUnreadMessageResponse.deserializeBinaryFromReader(r,t)},proto.vmr.ClearUnreadMessageResponse.deserializeBinaryFromReader=function(e,t){for(;t.nextField()&&!t.isEndGroup();){switch(t.getFieldNumber()){case 1:var r=new o.Error;t.readMessage(r,o.Error.deserializeBinaryFromReader),e.setError(r);break;default:t.skipField()}}return e},proto.vmr.ClearUnreadMessageResponse.prototype.serializeBinary=function(){var e=new n.BinaryWriter;return proto.vmr.ClearUnreadMessageResponse.serializeBinaryToWriter(this,e),e.getResultBuffer()},proto.vmr.ClearUnreadMessageResponse.serializeBinaryToWriter=function(e,t){var r;null!=(r=e.getError())&&t.writeMessage(1,r,o.Error.serializeBinaryToWriter)},proto.vmr.ClearUnreadMessageResponse.prototype.getError=function(){return n.Message.getWrapperField(this,o.Error,1)},proto.vmr.ClearUnreadMessageResponse.prototype.setError=function(e){n.Message.setWrapperField(this,1,e)},proto.vmr.ClearUnreadMessageResponse.prototype.clearError=function(){this.setError(void 0)},proto.vmr.ClearUnreadMessageResponse.prototype.hasError=function(){return null!=n.Message.getField(this,1)},proto.vmr.SetFriendStatusRequest=function(e){n.Message.initialize(this,e,0,-1,null,null)},s.inherits(proto.vmr.SetFriendStatusRequest,n.Message),s.DEBUG&&!COMPILED&&(proto.vmr.SetFriendStatusRequest.displayName="proto.vmr.SetFriendStatusRequest"),n.Message.GENERATE_TO_OBJECT&&(proto.vmr.SetFriendStatusRequest.prototype.toObject=function(e){return proto.vmr.SetFriendStatusRequest.toObject(e,this)},proto.vmr.SetFriendStatusRequest.toObject=function(e,t){var r={type:n.Message.getFieldWithDefault(t,1,0),friendId:n.Message.getFieldWithDefault(t,2,0)};return e&&(r.$jspbMessageInstance=t),r}),proto.vmr.SetFriendStatusRequest.deserializeBinary=function(e){var t=new n.BinaryReader(e),r=new proto.vmr.SetFriendStatusRequest;return proto.vmr.SetFriendStatusRequest.deserializeBinaryFromReader(r,t)},proto.vmr.SetFriendStatusRequest.deserializeBinaryFromReader=function(e,t){for(;t.nextField()&&!t.isEndGroup();){switch(t.getFieldNumber()){case 1:var r=t.readEnum();e.setType(r);break;case 2:r=t.readInt64();e.setFriendId(r);break;default:t.skipField()}}return e},proto.vmr.SetFriendStatusRequest.prototype.serializeBinary=function(){var e=new n.BinaryWriter;return proto.vmr.SetFriendStatusRequest.serializeBinaryToWriter(this,e),e.getResultBuffer()},proto.vmr.SetFriendStatusRequest.serializeBinaryToWriter=function(e,t){var r=void 0;0!==(r=e.getType())&&t.writeEnum(1,r),0!==(r=e.getFriendId())&&t.writeInt64(2,r)},proto.vmr.SetFriendStatusRequest.Type={ADD_FRIEND:0,ACCEPT_FRIEND:1,REJECT_FRIEND:2,REMOVE_FRIEND:3},proto.vmr.SetFriendStatusRequest.prototype.getType=function(){return n.Message.getFieldWithDefault(this,1,0)},proto.vmr.SetFriendStatusRequest.prototype.setType=function(e){n.Message.setProto3EnumField(this,1,e)},proto.vmr.SetFriendStatusRequest.prototype.getFriendId=function(){return n.Message.getFieldWithDefault(this,2,0)},proto.vmr.SetFriendStatusRequest.prototype.setFriendId=function(e){n.Message.setProto3IntField(this,2,e)},proto.vmr.SetFriendStatusResponse=function(e){n.Message.initialize(this,e,0,-1,null,null)},s.inherits(proto.vmr.SetFriendStatusResponse,n.Message),s.DEBUG&&!COMPILED&&(proto.vmr.SetFriendStatusResponse.displayName="proto.vmr.SetFriendStatusResponse"),n.Message.GENERATE_TO_OBJECT&&(proto.vmr.SetFriendStatusResponse.prototype.toObject=function(e){return proto.vmr.SetFriendStatusResponse.toObject(e,this)},proto.vmr.SetFriendStatusResponse.toObject=function(e,t){var r,n={error:(r=t.getError())&&o.Error.toObject(e,r)};return e&&(n.$jspbMessageInstance=t),n}),proto.vmr.SetFriendStatusResponse.deserializeBinary=function(e){var t=new n.BinaryReader(e),r=new proto.vmr.SetFriendStatusResponse;return proto.vmr.SetFriendStatusResponse.deserializeBinaryFromReader(r,t)},proto.vmr.SetFriendStatusResponse.deserializeBinaryFromReader=function(e,t){for(;t.nextField()&&!t.isEndGroup();){switch(t.getFieldNumber()){case 1:var r=new o.Error;t.readMessage(r,o.Error.deserializeBinaryFromReader),e.setError(r);break;default:t.skipField()}}return e},proto.vmr.SetFriendStatusResponse.prototype.serializeBinary=function(){var e=new n.BinaryWriter;return proto.vmr.SetFriendStatusResponse.serializeBinaryToWriter(this,e),e.getResultBuffer()},proto.vmr.SetFriendStatusResponse.serializeBinaryToWriter=function(e,t){var r;null!=(r=e.getError())&&t.writeMessage(1,r,o.Error.serializeBinaryToWriter)},proto.vmr.SetFriendStatusResponse.prototype.getError=function(){return n.Message.getWrapperField(this,o.Error,1)},proto.vmr.SetFriendStatusResponse.prototype.setError=function(e){n.Message.setWrapperField(this,1,e)},proto.vmr.SetFriendStatusResponse.prototype.clearError=function(){this.setError(void 0)},proto.vmr.SetFriendStatusResponse.prototype.hasError=function(){return null!=n.Message.getField(this,1)},proto.vmr.FriendStatus={FRIEND:0,WAITING:1,NOT_ANSWER:2,NOTHING:3,REMOVED:4},s.object.extend(t,proto.vmr)},148:function(e,t,r){var n=r(142),s=n,a=Function("return this")(),o=r(83);s.exportSymbol("proto.vmr.BalanceResponse",null,a),s.exportSymbol("proto.vmr.BalanceResponse.Data",null,a),s.exportSymbol("proto.vmr.GetHistoryWithOffsetRequest",null,a),s.exportSymbol("proto.vmr.HistoryResponse",null,a),s.exportSymbol("proto.vmr.HistoryResponse.Data",null,a),s.exportSymbol("proto.vmr.HistoryResponse.Item",null,a),s.exportSymbol("proto.vmr.HistoryResponse.Type",null,a),s.exportSymbol("proto.vmr.TransferReminder",null,a),s.exportSymbol("proto.vmr.TransferReminderListResponse",null,a),s.exportSymbol("proto.vmr.TransferReminderRequest",null,a),s.exportSymbol("proto.vmr.TransferReminderResponse",null,a),s.exportSymbol("proto.vmr.TransferRequest",null,a),s.exportSymbol("proto.vmr.TransferResponse",null,a),proto.vmr.BalanceResponse=function(e){n.Message.initialize(this,e,0,-1,null,null)},s.inherits(proto.vmr.BalanceResponse,n.Message),s.DEBUG&&!COMPILED&&(proto.vmr.BalanceResponse.displayName="proto.vmr.BalanceResponse"),n.Message.GENERATE_TO_OBJECT&&(proto.vmr.BalanceResponse.prototype.toObject=function(e){return proto.vmr.BalanceResponse.toObject(e,this)},proto.vmr.BalanceResponse.toObject=function(e,t){var r,n={error:(r=t.getError())&&o.Error.toObject(e,r),data:(r=t.getData())&&proto.vmr.BalanceResponse.Data.toObject(e,r)};return e&&(n.$jspbMessageInstance=t),n}),proto.vmr.BalanceResponse.deserializeBinary=function(e){var t=new n.BinaryReader(e),r=new proto.vmr.BalanceResponse;return proto.vmr.BalanceResponse.deserializeBinaryFromReader(r,t)},proto.vmr.BalanceResponse.deserializeBinaryFromReader=function(e,t){for(;t.nextField()&&!t.isEndGroup();){switch(t.getFieldNumber()){case 1:var r=new o.Error;t.readMessage(r,o.Error.deserializeBinaryFromReader),e.setError(r);break;case 2:r=new proto.vmr.BalanceResponse.Data;t.readMessage(r,proto.vmr.BalanceResponse.Data.deserializeBinaryFromReader),e.setData(r);break;default:t.skipField()}}return e},proto.vmr.BalanceResponse.prototype.serializeBinary=function(){var e=new n.BinaryWriter;return proto.vmr.BalanceResponse.serializeBinaryToWriter(this,e),e.getResultBuffer()},proto.vmr.BalanceResponse.serializeBinaryToWriter=function(e,t){var r=void 0;null!=(r=e.getError())&&t.writeMessage(1,r,o.Error.serializeBinaryToWriter),null!=(r=e.getData())&&t.writeMessage(2,r,proto.vmr.BalanceResponse.Data.serializeBinaryToWriter)},proto.vmr.BalanceResponse.Data=function(e){n.Message.initialize(this,e,0,-1,null,null)},s.inherits(proto.vmr.BalanceResponse.Data,n.Message),s.DEBUG&&!COMPILED&&(proto.vmr.BalanceResponse.Data.displayName="proto.vmr.BalanceResponse.Data"),n.Message.GENERATE_TO_OBJECT&&(proto.vmr.BalanceResponse.Data.prototype.toObject=function(e){return proto.vmr.BalanceResponse.Data.toObject(e,this)},proto.vmr.BalanceResponse.Data.toObject=function(e,t){var r={balance:n.Message.getFieldWithDefault(t,1,0),lastUpdated:n.Message.getFieldWithDefault(t,2,0),userName:n.Message.getFieldWithDefault(t,3,""),name:n.Message.getFieldWithDefault(t,4,"")};return e&&(r.$jspbMessageInstance=t),r}),proto.vmr.BalanceResponse.Data.deserializeBinary=function(e){var t=new n.BinaryReader(e),r=new proto.vmr.BalanceResponse.Data;return proto.vmr.BalanceResponse.Data.deserializeBinaryFromReader(r,t)},proto.vmr.BalanceResponse.Data.deserializeBinaryFromReader=function(e,t){for(;t.nextField()&&!t.isEndGroup();){switch(t.getFieldNumber()){case 1:var r=t.readInt64();e.setBalance(r);break;case 2:r=t.readInt64();e.setLastUpdated(r);break;case 3:r=t.readString();e.setUserName(r);break;case 4:r=t.readString();e.setName(r);break;default:t.skipField()}}return e},proto.vmr.BalanceResponse.Data.prototype.serializeBinary=function(){var e=new n.BinaryWriter;return proto.vmr.BalanceResponse.Data.serializeBinaryToWriter(this,e),e.getResultBuffer()},proto.vmr.BalanceResponse.Data.serializeBinaryToWriter=function(e,t){var r=void 0;0!==(r=e.getBalance())&&t.writeInt64(1,r),0!==(r=e.getLastUpdated())&&t.writeInt64(2,r),(r=e.getUserName()).length>0&&t.writeString(3,r),(r=e.getName()).length>0&&t.writeString(4,r)},proto.vmr.BalanceResponse.Data.prototype.getBalance=function(){return n.Message.getFieldWithDefault(this,1,0)},proto.vmr.BalanceResponse.Data.prototype.setBalance=function(e){n.Message.setProto3IntField(this,1,e)},proto.vmr.BalanceResponse.Data.prototype.getLastUpdated=function(){return n.Message.getFieldWithDefault(this,2,0)},proto.vmr.BalanceResponse.Data.prototype.setLastUpdated=function(e){n.Message.setProto3IntField(this,2,e)},proto.vmr.BalanceResponse.Data.prototype.getUserName=function(){return n.Message.getFieldWithDefault(this,3,"")},proto.vmr.BalanceResponse.Data.prototype.setUserName=function(e){n.Message.setProto3StringField(this,3,e)},proto.vmr.BalanceResponse.Data.prototype.getName=function(){return n.Message.getFieldWithDefault(this,4,"")},proto.vmr.BalanceResponse.Data.prototype.setName=function(e){n.Message.setProto3StringField(this,4,e)},proto.vmr.BalanceResponse.prototype.getError=function(){return n.Message.getWrapperField(this,o.Error,1)},proto.vmr.BalanceResponse.prototype.setError=function(e){n.Message.setWrapperField(this,1,e)},proto.vmr.BalanceResponse.prototype.clearError=function(){this.setError(void 0)},proto.vmr.BalanceResponse.prototype.hasError=function(){return null!=n.Message.getField(this,1)},proto.vmr.BalanceResponse.prototype.getData=function(){return n.Message.getWrapperField(this,proto.vmr.BalanceResponse.Data,2)},proto.vmr.BalanceResponse.prototype.setData=function(e){n.Message.setWrapperField(this,2,e)},proto.vmr.BalanceResponse.prototype.clearData=function(){this.setData(void 0)},proto.vmr.BalanceResponse.prototype.hasData=function(){return null!=n.Message.getField(this,2)},proto.vmr.GetHistoryWithOffsetRequest=function(e){n.Message.initialize(this,e,0,-1,null,null)},s.inherits(proto.vmr.GetHistoryWithOffsetRequest,n.Message),s.DEBUG&&!COMPILED&&(proto.vmr.GetHistoryWithOffsetRequest.displayName="proto.vmr.GetHistoryWithOffsetRequest"),n.Message.GENERATE_TO_OBJECT&&(proto.vmr.GetHistoryWithOffsetRequest.prototype.toObject=function(e){return proto.vmr.GetHistoryWithOffsetRequest.toObject(e,this)},proto.vmr.GetHistoryWithOffsetRequest.toObject=function(e,t){var r={offset:n.Message.getFieldWithDefault(t,1,0)};return e&&(r.$jspbMessageInstance=t),r}),proto.vmr.GetHistoryWithOffsetRequest.deserializeBinary=function(e){var t=new n.BinaryReader(e),r=new proto.vmr.GetHistoryWithOffsetRequest;return proto.vmr.GetHistoryWithOffsetRequest.deserializeBinaryFromReader(r,t)},proto.vmr.GetHistoryWithOffsetRequest.deserializeBinaryFromReader=function(e,t){for(;t.nextField()&&!t.isEndGroup();){switch(t.getFieldNumber()){case 1:var r=t.readInt64();e.setOffset(r);break;default:t.skipField()}}return e},proto.vmr.GetHistoryWithOffsetRequest.prototype.serializeBinary=function(){var e=new n.BinaryWriter;return proto.vmr.GetHistoryWithOffsetRequest.serializeBinaryToWriter(this,e),e.getResultBuffer()},proto.vmr.GetHistoryWithOffsetRequest.serializeBinaryToWriter=function(e,t){var r;0!==(r=e.getOffset())&&t.writeInt64(1,r)},proto.vmr.GetHistoryWithOffsetRequest.prototype.getOffset=function(){return n.Message.getFieldWithDefault(this,1,0)},proto.vmr.GetHistoryWithOffsetRequest.prototype.setOffset=function(e){n.Message.setProto3IntField(this,1,e)},proto.vmr.TransferRequest=function(e){n.Message.initialize(this,e,0,-1,null,null)},s.inherits(proto.vmr.TransferRequest,n.Message),s.DEBUG&&!COMPILED&&(proto.vmr.TransferRequest.displayName="proto.vmr.TransferRequest"),n.Message.GENERATE_TO_OBJECT&&(proto.vmr.TransferRequest.prototype.toObject=function(e){return proto.vmr.TransferRequest.toObject(e,this)},proto.vmr.TransferRequest.toObject=function(e,t){var r={requestId:n.Message.getFieldWithDefault(t,1,0),receiver:n.Message.getFieldWithDefault(t,2,0),amount:n.Message.getFieldWithDefault(t,3,0),message:n.Message.getFieldWithDefault(t,4,""),password:n.Message.getFieldWithDefault(t,5,"")};return e&&(r.$jspbMessageInstance=t),r}),proto.vmr.TransferRequest.deserializeBinary=function(e){var t=new n.BinaryReader(e),r=new proto.vmr.TransferRequest;return proto.vmr.TransferRequest.deserializeBinaryFromReader(r,t)},proto.vmr.TransferRequest.deserializeBinaryFromReader=function(e,t){for(;t.nextField()&&!t.isEndGroup();){switch(t.getFieldNumber()){case 1:var r=t.readInt64();e.setRequestId(r);break;case 2:r=t.readInt64();e.setReceiver(r);break;case 3:r=t.readUint64();e.setAmount(r);break;case 4:r=t.readString();e.setMessage(r);break;case 5:r=t.readString();e.setPassword(r);break;default:t.skipField()}}return e},proto.vmr.TransferRequest.prototype.serializeBinary=function(){var e=new n.BinaryWriter;return proto.vmr.TransferRequest.serializeBinaryToWriter(this,e),e.getResultBuffer()},proto.vmr.TransferRequest.serializeBinaryToWriter=function(e,t){var r=void 0;0!==(r=e.getRequestId())&&t.writeInt64(1,r),0!==(r=e.getReceiver())&&t.writeInt64(2,r),0!==(r=e.getAmount())&&t.writeUint64(3,r),(r=e.getMessage()).length>0&&t.writeString(4,r),(r=e.getPassword()).length>0&&t.writeString(5,r)},proto.vmr.TransferRequest.prototype.getRequestId=function(){return n.Message.getFieldWithDefault(this,1,0)},proto.vmr.TransferRequest.prototype.setRequestId=function(e){n.Message.setProto3IntField(this,1,e)},proto.vmr.TransferRequest.prototype.getReceiver=function(){return n.Message.getFieldWithDefault(this,2,0)},proto.vmr.TransferRequest.prototype.setReceiver=function(e){n.Message.setProto3IntField(this,2,e)},proto.vmr.TransferRequest.prototype.getAmount=function(){return n.Message.getFieldWithDefault(this,3,0)},proto.vmr.TransferRequest.prototype.setAmount=function(e){n.Message.setProto3IntField(this,3,e)},proto.vmr.TransferRequest.prototype.getMessage=function(){return n.Message.getFieldWithDefault(this,4,"")},proto.vmr.TransferRequest.prototype.setMessage=function(e){n.Message.setProto3StringField(this,4,e)},proto.vmr.TransferRequest.prototype.getPassword=function(){return n.Message.getFieldWithDefault(this,5,"")},proto.vmr.TransferRequest.prototype.setPassword=function(e){n.Message.setProto3StringField(this,5,e)},proto.vmr.TransferResponse=function(e){n.Message.initialize(this,e,0,-1,null,null)},s.inherits(proto.vmr.TransferResponse,n.Message),s.DEBUG&&!COMPILED&&(proto.vmr.TransferResponse.displayName="proto.vmr.TransferResponse"),n.Message.GENERATE_TO_OBJECT&&(proto.vmr.TransferResponse.prototype.toObject=function(e){return proto.vmr.TransferResponse.toObject(e,this)},proto.vmr.TransferResponse.toObject=function(e,t){var r,n={error:(r=t.getError())&&o.Error.toObject(e,r)};return e&&(n.$jspbMessageInstance=t),n}),proto.vmr.TransferResponse.deserializeBinary=function(e){var t=new n.BinaryReader(e),r=new proto.vmr.TransferResponse;return proto.vmr.TransferResponse.deserializeBinaryFromReader(r,t)},proto.vmr.TransferResponse.deserializeBinaryFromReader=function(e,t){for(;t.nextField()&&!t.isEndGroup();){switch(t.getFieldNumber()){case 1:var r=new o.Error;t.readMessage(r,o.Error.deserializeBinaryFromReader),e.setError(r);break;default:t.skipField()}}return e},proto.vmr.TransferResponse.prototype.serializeBinary=function(){var e=new n.BinaryWriter;return proto.vmr.TransferResponse.serializeBinaryToWriter(this,e),e.getResultBuffer()},proto.vmr.TransferResponse.serializeBinaryToWriter=function(e,t){var r;null!=(r=e.getError())&&t.writeMessage(1,r,o.Error.serializeBinaryToWriter)},proto.vmr.TransferResponse.prototype.getError=function(){return n.Message.getWrapperField(this,o.Error,1)},proto.vmr.TransferResponse.prototype.setError=function(e){n.Message.setWrapperField(this,1,e)},proto.vmr.TransferResponse.prototype.clearError=function(){this.setError(void 0)},proto.vmr.TransferResponse.prototype.hasError=function(){return null!=n.Message.getField(this,1)},proto.vmr.HistoryResponse=function(e){n.Message.initialize(this,e,0,-1,null,null)},s.inherits(proto.vmr.HistoryResponse,n.Message),s.DEBUG&&!COMPILED&&(proto.vmr.HistoryResponse.displayName="proto.vmr.HistoryResponse"),n.Message.GENERATE_TO_OBJECT&&(proto.vmr.HistoryResponse.prototype.toObject=function(e){return proto.vmr.HistoryResponse.toObject(e,this)},proto.vmr.HistoryResponse.toObject=function(e,t){var r,n={error:(r=t.getError())&&o.Error.toObject(e,r),data:(r=t.getData())&&proto.vmr.HistoryResponse.Data.toObject(e,r)};return e&&(n.$jspbMessageInstance=t),n}),proto.vmr.HistoryResponse.deserializeBinary=function(e){var t=new n.BinaryReader(e),r=new proto.vmr.HistoryResponse;return proto.vmr.HistoryResponse.deserializeBinaryFromReader(r,t)},proto.vmr.HistoryResponse.deserializeBinaryFromReader=function(e,t){for(;t.nextField()&&!t.isEndGroup();){switch(t.getFieldNumber()){case 1:var r=new o.Error;t.readMessage(r,o.Error.deserializeBinaryFromReader),e.setError(r);break;case 2:r=new proto.vmr.HistoryResponse.Data;t.readMessage(r,proto.vmr.HistoryResponse.Data.deserializeBinaryFromReader),e.setData(r);break;default:t.skipField()}}return e},proto.vmr.HistoryResponse.prototype.serializeBinary=function(){var e=new n.BinaryWriter;return proto.vmr.HistoryResponse.serializeBinaryToWriter(this,e),e.getResultBuffer()},proto.vmr.HistoryResponse.serializeBinaryToWriter=function(e,t){var r=void 0;null!=(r=e.getError())&&t.writeMessage(1,r,o.Error.serializeBinaryToWriter),null!=(r=e.getData())&&t.writeMessage(2,r,proto.vmr.HistoryResponse.Data.serializeBinaryToWriter)},proto.vmr.HistoryResponse.Type={TRANSFER:0,RECEIVE:1},proto.vmr.HistoryResponse.Item=function(e){n.Message.initialize(this,e,0,-1,null,null)},s.inherits(proto.vmr.HistoryResponse.Item,n.Message),s.DEBUG&&!COMPILED&&(proto.vmr.HistoryResponse.Item.displayName="proto.vmr.HistoryResponse.Item"),n.Message.GENERATE_TO_OBJECT&&(proto.vmr.HistoryResponse.Item.prototype.toObject=function(e){return proto.vmr.HistoryResponse.Item.toObject(e,this)},proto.vmr.HistoryResponse.Item.toObject=function(e,t){var r={id:n.Message.getFieldWithDefault(t,1,0),sender:n.Message.getFieldWithDefault(t,2,0),receiver:n.Message.getFieldWithDefault(t,3,0),amount:n.Message.getFieldWithDefault(t,4,0),timestamp:n.Message.getFieldWithDefault(t,5,0),message:n.Message.getFieldWithDefault(t,6,""),balance:n.Message.getFieldWithDefault(t,7,0),type:n.Message.getFieldWithDefault(t,8,0)};return e&&(r.$jspbMessageInstance=t),r}),proto.vmr.HistoryResponse.Item.deserializeBinary=function(e){var t=new n.BinaryReader(e),r=new proto.vmr.HistoryResponse.Item;return proto.vmr.HistoryResponse.Item.deserializeBinaryFromReader(r,t)},proto.vmr.HistoryResponse.Item.deserializeBinaryFromReader=function(e,t){for(;t.nextField()&&!t.isEndGroup();){switch(t.getFieldNumber()){case 1:var r=t.readInt64();e.setId(r);break;case 2:r=t.readInt64();e.setSender(r);break;case 3:r=t.readInt64();e.setReceiver(r);break;case 4:r=t.readInt64();e.setAmount(r);break;case 5:r=t.readInt64();e.setTimestamp(r);break;case 6:r=t.readString();e.setMessage(r);break;case 7:r=t.readInt64();e.setBalance(r);break;case 8:r=t.readEnum();e.setType(r);break;default:t.skipField()}}return e},proto.vmr.HistoryResponse.Item.prototype.serializeBinary=function(){var e=new n.BinaryWriter;return proto.vmr.HistoryResponse.Item.serializeBinaryToWriter(this,e),e.getResultBuffer()},proto.vmr.HistoryResponse.Item.serializeBinaryToWriter=function(e,t){var r=void 0;0!==(r=e.getId())&&t.writeInt64(1,r),0!==(r=e.getSender())&&t.writeInt64(2,r),0!==(r=e.getReceiver())&&t.writeInt64(3,r),0!==(r=e.getAmount())&&t.writeInt64(4,r),0!==(r=e.getTimestamp())&&t.writeInt64(5,r),(r=e.getMessage()).length>0&&t.writeString(6,r),0!==(r=e.getBalance())&&t.writeInt64(7,r),0!==(r=e.getType())&&t.writeEnum(8,r)},proto.vmr.HistoryResponse.Item.prototype.getId=function(){return n.Message.getFieldWithDefault(this,1,0)},proto.vmr.HistoryResponse.Item.prototype.setId=function(e){n.Message.setProto3IntField(this,1,e)},proto.vmr.HistoryResponse.Item.prototype.getSender=function(){return n.Message.getFieldWithDefault(this,2,0)},proto.vmr.HistoryResponse.Item.prototype.setSender=function(e){n.Message.setProto3IntField(this,2,e)},proto.vmr.HistoryResponse.Item.prototype.getReceiver=function(){return n.Message.getFieldWithDefault(this,3,0)},proto.vmr.HistoryResponse.Item.prototype.setReceiver=function(e){n.Message.setProto3IntField(this,3,e)},proto.vmr.HistoryResponse.Item.prototype.getAmount=function(){return n.Message.getFieldWithDefault(this,4,0)},proto.vmr.HistoryResponse.Item.prototype.setAmount=function(e){n.Message.setProto3IntField(this,4,e)},proto.vmr.HistoryResponse.Item.prototype.getTimestamp=function(){return n.Message.getFieldWithDefault(this,5,0)},proto.vmr.HistoryResponse.Item.prototype.setTimestamp=function(e){n.Message.setProto3IntField(this,5,e)},proto.vmr.HistoryResponse.Item.prototype.getMessage=function(){return n.Message.getFieldWithDefault(this,6,"")},proto.vmr.HistoryResponse.Item.prototype.setMessage=function(e){n.Message.setProto3StringField(this,6,e)},proto.vmr.HistoryResponse.Item.prototype.getBalance=function(){return n.Message.getFieldWithDefault(this,7,0)},proto.vmr.HistoryResponse.Item.prototype.setBalance=function(e){n.Message.setProto3IntField(this,7,e)},proto.vmr.HistoryResponse.Item.prototype.getType=function(){return n.Message.getFieldWithDefault(this,8,0)},proto.vmr.HistoryResponse.Item.prototype.setType=function(e){n.Message.setProto3EnumField(this,8,e)},proto.vmr.HistoryResponse.Data=function(e){n.Message.initialize(this,e,0,-1,proto.vmr.HistoryResponse.Data.repeatedFields_,null)},s.inherits(proto.vmr.HistoryResponse.Data,n.Message),s.DEBUG&&!COMPILED&&(proto.vmr.HistoryResponse.Data.displayName="proto.vmr.HistoryResponse.Data"),proto.vmr.HistoryResponse.Data.repeatedFields_=[1],n.Message.GENERATE_TO_OBJECT&&(proto.vmr.HistoryResponse.Data.prototype.toObject=function(e){return proto.vmr.HistoryResponse.Data.toObject(e,this)},proto.vmr.HistoryResponse.Data.toObject=function(e,t){var r={itemList:n.Message.toObjectList(t.getItemList(),proto.vmr.HistoryResponse.Item.toObject,e)};return e&&(r.$jspbMessageInstance=t),r}),proto.vmr.HistoryResponse.Data.deserializeBinary=function(e){var t=new n.BinaryReader(e),r=new proto.vmr.HistoryResponse.Data;return proto.vmr.HistoryResponse.Data.deserializeBinaryFromReader(r,t)},proto.vmr.HistoryResponse.Data.deserializeBinaryFromReader=function(e,t){for(;t.nextField()&&!t.isEndGroup();){switch(t.getFieldNumber()){case 1:var r=new proto.vmr.HistoryResponse.Item;t.readMessage(r,proto.vmr.HistoryResponse.Item.deserializeBinaryFromReader),e.addItem(r);break;default:t.skipField()}}return e},proto.vmr.HistoryResponse.Data.prototype.serializeBinary=function(){var e=new n.BinaryWriter;return proto.vmr.HistoryResponse.Data.serializeBinaryToWriter(this,e),e.getResultBuffer()},proto.vmr.HistoryResponse.Data.serializeBinaryToWriter=function(e,t){var r;(r=e.getItemList()).length>0&&t.writeRepeatedMessage(1,r,proto.vmr.HistoryResponse.Item.serializeBinaryToWriter)},proto.vmr.HistoryResponse.Data.prototype.getItemList=function(){return n.Message.getRepeatedWrapperField(this,proto.vmr.HistoryResponse.Item,1)},proto.vmr.HistoryResponse.Data.prototype.setItemList=function(e){n.Message.setRepeatedWrapperField(this,1,e)},proto.vmr.HistoryResponse.Data.prototype.addItem=function(e,t){return n.Message.addToRepeatedWrapperField(this,1,e,proto.vmr.HistoryResponse.Item,t)},proto.vmr.HistoryResponse.Data.prototype.clearItemList=function(){this.setItemList([])},proto.vmr.HistoryResponse.prototype.getError=function(){return n.Message.getWrapperField(this,o.Error,1)},proto.vmr.HistoryResponse.prototype.setError=function(e){n.Message.setWrapperField(this,1,e)},proto.vmr.HistoryResponse.prototype.clearError=function(){this.setError(void 0)},proto.vmr.HistoryResponse.prototype.hasError=function(){return null!=n.Message.getField(this,1)},proto.vmr.HistoryResponse.prototype.getData=function(){return n.Message.getWrapperField(this,proto.vmr.HistoryResponse.Data,2)},proto.vmr.HistoryResponse.prototype.setData=function(e){n.Message.setWrapperField(this,2,e)},proto.vmr.HistoryResponse.prototype.clearData=function(){this.setData(void 0)},proto.vmr.HistoryResponse.prototype.hasData=function(){return null!=n.Message.getField(this,2)},proto.vmr.TransferReminderRequest=function(e){n.Message.initialize(this,e,0,-1,null,null)},s.inherits(proto.vmr.TransferReminderRequest,n.Message),s.DEBUG&&!COMPILED&&(proto.vmr.TransferReminderRequest.displayName="proto.vmr.TransferReminderRequest"),n.Message.GENERATE_TO_OBJECT&&(proto.vmr.TransferReminderRequest.prototype.toObject=function(e){return proto.vmr.TransferReminderRequest.toObject(e,this)},proto.vmr.TransferReminderRequest.toObject=function(e,t){var r={requestId:n.Message.getFieldWithDefault(t,1,0),userId:n.Message.getFieldWithDefault(t,2,0),amount:n.Message.getFieldWithDefault(t,3,0),content:n.Message.getFieldWithDefault(t,4,"")};return e&&(r.$jspbMessageInstance=t),r}),proto.vmr.TransferReminderRequest.deserializeBinary=function(e){var t=new n.BinaryReader(e),r=new proto.vmr.TransferReminderRequest;return proto.vmr.TransferReminderRequest.deserializeBinaryFromReader(r,t)},proto.vmr.TransferReminderRequest.deserializeBinaryFromReader=function(e,t){for(;t.nextField()&&!t.isEndGroup();){switch(t.getFieldNumber()){case 1:var r=t.readInt64();e.setRequestId(r);break;case 2:r=t.readInt64();e.setUserId(r);break;case 3:r=t.readInt64();e.setAmount(r);break;case 4:r=t.readString();e.setContent(r);break;default:t.skipField()}}return e},proto.vmr.TransferReminderRequest.prototype.serializeBinary=function(){var e=new n.BinaryWriter;return proto.vmr.TransferReminderRequest.serializeBinaryToWriter(this,e),e.getResultBuffer()},proto.vmr.TransferReminderRequest.serializeBinaryToWriter=function(e,t){var r=void 0;0!==(r=e.getRequestId())&&t.writeInt64(1,r),0!==(r=e.getUserId())&&t.writeInt64(2,r),0!==(r=e.getAmount())&&t.writeInt64(3,r),(r=e.getContent()).length>0&&t.writeString(4,r)},proto.vmr.TransferReminderRequest.prototype.getRequestId=function(){return n.Message.getFieldWithDefault(this,1,0)},proto.vmr.TransferReminderRequest.prototype.setRequestId=function(e){n.Message.setProto3IntField(this,1,e)},proto.vmr.TransferReminderRequest.prototype.getUserId=function(){return n.Message.getFieldWithDefault(this,2,0)},proto.vmr.TransferReminderRequest.prototype.setUserId=function(e){n.Message.setProto3IntField(this,2,e)},proto.vmr.TransferReminderRequest.prototype.getAmount=function(){return n.Message.getFieldWithDefault(this,3,0)},proto.vmr.TransferReminderRequest.prototype.setAmount=function(e){n.Message.setProto3IntField(this,3,e)},proto.vmr.TransferReminderRequest.prototype.getContent=function(){return n.Message.getFieldWithDefault(this,4,"")},proto.vmr.TransferReminderRequest.prototype.setContent=function(e){n.Message.setProto3StringField(this,4,e)},proto.vmr.TransferReminderResponse=function(e){n.Message.initialize(this,e,0,-1,null,null)},s.inherits(proto.vmr.TransferReminderResponse,n.Message),s.DEBUG&&!COMPILED&&(proto.vmr.TransferReminderResponse.displayName="proto.vmr.TransferReminderResponse"),n.Message.GENERATE_TO_OBJECT&&(proto.vmr.TransferReminderResponse.prototype.toObject=function(e){return proto.vmr.TransferReminderResponse.toObject(e,this)},proto.vmr.TransferReminderResponse.toObject=function(e,t){var r,n={error:(r=t.getError())&&o.Error.toObject(e,r)};return e&&(n.$jspbMessageInstance=t),n}),proto.vmr.TransferReminderResponse.deserializeBinary=function(e){var t=new n.BinaryReader(e),r=new proto.vmr.TransferReminderResponse;return proto.vmr.TransferReminderResponse.deserializeBinaryFromReader(r,t)},proto.vmr.TransferReminderResponse.deserializeBinaryFromReader=function(e,t){for(;t.nextField()&&!t.isEndGroup();){switch(t.getFieldNumber()){case 1:var r=new o.Error;t.readMessage(r,o.Error.deserializeBinaryFromReader),e.setError(r);break;default:t.skipField()}}return e},proto.vmr.TransferReminderResponse.prototype.serializeBinary=function(){var e=new n.BinaryWriter;return proto.vmr.TransferReminderResponse.serializeBinaryToWriter(this,e),e.getResultBuffer()},proto.vmr.TransferReminderResponse.serializeBinaryToWriter=function(e,t){var r;null!=(r=e.getError())&&t.writeMessage(1,r,o.Error.serializeBinaryToWriter)},proto.vmr.TransferReminderResponse.prototype.getError=function(){return n.Message.getWrapperField(this,o.Error,1)},proto.vmr.TransferReminderResponse.prototype.setError=function(e){n.Message.setWrapperField(this,1,e)},proto.vmr.TransferReminderResponse.prototype.clearError=function(){this.setError(void 0)},proto.vmr.TransferReminderResponse.prototype.hasError=function(){return null!=n.Message.getField(this,1)},proto.vmr.TransferReminder=function(e){n.Message.initialize(this,e,0,-1,null,null)},s.inherits(proto.vmr.TransferReminder,n.Message),s.DEBUG&&!COMPILED&&(proto.vmr.TransferReminder.displayName="proto.vmr.TransferReminder"),n.Message.GENERATE_TO_OBJECT&&(proto.vmr.TransferReminder.prototype.toObject=function(e){return proto.vmr.TransferReminder.toObject(e,this)},proto.vmr.TransferReminder.toObject=function(e,t){var r={id:n.Message.getFieldWithDefault(t,1,0),timestamp:n.Message.getFieldWithDefault(t,2,0),from:n.Message.getFieldWithDefault(t,3,0),to:n.Message.getFieldWithDefault(t,4,0),amount:n.Message.getFieldWithDefault(t,5,0),content:n.Message.getFieldWithDefault(t,6,"")};return e&&(r.$jspbMessageInstance=t),r}),proto.vmr.TransferReminder.deserializeBinary=function(e){var t=new n.BinaryReader(e),r=new proto.vmr.TransferReminder;return proto.vmr.TransferReminder.deserializeBinaryFromReader(r,t)},proto.vmr.TransferReminder.deserializeBinaryFromReader=function(e,t){for(;t.nextField()&&!t.isEndGroup();){switch(t.getFieldNumber()){case 1:var r=t.readInt64();e.setId(r);break;case 2:r=t.readInt64();e.setTimestamp(r);break;case 3:r=t.readInt64();e.setFrom(r);break;case 4:r=t.readInt64();e.setTo(r);break;case 5:r=t.readInt64();e.setAmount(r);break;case 6:r=t.readString();e.setContent(r);break;default:t.skipField()}}return e},proto.vmr.TransferReminder.prototype.serializeBinary=function(){var e=new n.BinaryWriter;return proto.vmr.TransferReminder.serializeBinaryToWriter(this,e),e.getResultBuffer()},proto.vmr.TransferReminder.serializeBinaryToWriter=function(e,t){var r=void 0;0!==(r=e.getId())&&t.writeInt64(1,r),0!==(r=e.getTimestamp())&&t.writeInt64(2,r),0!==(r=e.getFrom())&&t.writeInt64(3,r),0!==(r=e.getTo())&&t.writeInt64(4,r),0!==(r=e.getAmount())&&t.writeInt64(5,r),(r=e.getContent()).length>0&&t.writeString(6,r)},proto.vmr.TransferReminder.prototype.getId=function(){return n.Message.getFieldWithDefault(this,1,0)},proto.vmr.TransferReminder.prototype.setId=function(e){n.Message.setProto3IntField(this,1,e)},proto.vmr.TransferReminder.prototype.getTimestamp=function(){return n.Message.getFieldWithDefault(this,2,0)},proto.vmr.TransferReminder.prototype.setTimestamp=function(e){n.Message.setProto3IntField(this,2,e)},proto.vmr.TransferReminder.prototype.getFrom=function(){return n.Message.getFieldWithDefault(this,3,0)},proto.vmr.TransferReminder.prototype.setFrom=function(e){n.Message.setProto3IntField(this,3,e)},proto.vmr.TransferReminder.prototype.getTo=function(){return n.Message.getFieldWithDefault(this,4,0)},proto.vmr.TransferReminder.prototype.setTo=function(e){n.Message.setProto3IntField(this,4,e)},proto.vmr.TransferReminder.prototype.getAmount=function(){return n.Message.getFieldWithDefault(this,5,0)},proto.vmr.TransferReminder.prototype.setAmount=function(e){n.Message.setProto3IntField(this,5,e)},proto.vmr.TransferReminder.prototype.getContent=function(){return n.Message.getFieldWithDefault(this,6,"")},proto.vmr.TransferReminder.prototype.setContent=function(e){n.Message.setProto3StringField(this,6,e)},proto.vmr.TransferReminderListResponse=function(e){n.Message.initialize(this,e,0,-1,proto.vmr.TransferReminderListResponse.repeatedFields_,null)},s.inherits(proto.vmr.TransferReminderListResponse,n.Message),s.DEBUG&&!COMPILED&&(proto.vmr.TransferReminderListResponse.displayName="proto.vmr.TransferReminderListResponse"),proto.vmr.TransferReminderListResponse.repeatedFields_=[2],n.Message.GENERATE_TO_OBJECT&&(proto.vmr.TransferReminderListResponse.prototype.toObject=function(e){return proto.vmr.TransferReminderListResponse.toObject(e,this)},proto.vmr.TransferReminderListResponse.toObject=function(e,t){var r,s={error:(r=t.getError())&&o.Error.toObject(e,r),reminderList:n.Message.toObjectList(t.getReminderList(),proto.vmr.TransferReminder.toObject,e)};return e&&(s.$jspbMessageInstance=t),s}),proto.vmr.TransferReminderListResponse.deserializeBinary=function(e){var t=new n.BinaryReader(e),r=new proto.vmr.TransferReminderListResponse;return proto.vmr.TransferReminderListResponse.deserializeBinaryFromReader(r,t)},proto.vmr.TransferReminderListResponse.deserializeBinaryFromReader=function(e,t){for(;t.nextField()&&!t.isEndGroup();){switch(t.getFieldNumber()){case 1:var r=new o.Error;t.readMessage(r,o.Error.deserializeBinaryFromReader),e.setError(r);break;case 2:r=new proto.vmr.TransferReminder;t.readMessage(r,proto.vmr.TransferReminder.deserializeBinaryFromReader),e.addReminder(r);break;default:t.skipField()}}return e},proto.vmr.TransferReminderListResponse.prototype.serializeBinary=function(){var e=new n.BinaryWriter;return proto.vmr.TransferReminderListResponse.serializeBinaryToWriter(this,e),e.getResultBuffer()},proto.vmr.TransferReminderListResponse.serializeBinaryToWriter=function(e,t){var r=void 0;null!=(r=e.getError())&&t.writeMessage(1,r,o.Error.serializeBinaryToWriter),(r=e.getReminderList()).length>0&&t.writeRepeatedMessage(2,r,proto.vmr.TransferReminder.serializeBinaryToWriter)},proto.vmr.TransferReminderListResponse.prototype.getError=function(){return n.Message.getWrapperField(this,o.Error,1)},proto.vmr.TransferReminderListResponse.prototype.setError=function(e){n.Message.setWrapperField(this,1,e)},proto.vmr.TransferReminderListResponse.prototype.clearError=function(){this.setError(void 0)},proto.vmr.TransferReminderListResponse.prototype.hasError=function(){return null!=n.Message.getField(this,1)},proto.vmr.TransferReminderListResponse.prototype.getReminderList=function(){return n.Message.getRepeatedWrapperField(this,proto.vmr.TransferReminder,2)},proto.vmr.TransferReminderListResponse.prototype.setReminderList=function(e){n.Message.setRepeatedWrapperField(this,2,e)},proto.vmr.TransferReminderListResponse.prototype.addReminder=function(e,t){return n.Message.addToRepeatedWrapperField(this,2,e,proto.vmr.TransferReminder,t)},proto.vmr.TransferReminderListResponse.prototype.clearReminderList=function(){this.setReminderList([])},s.object.extend(t,proto.vmr)},158:function(e,t,r){"use strict";r.d(t,"a",(function(){return i})),r.d(t,"b",(function(){return l})),r.d(t,"c",(function(){return c}));var n=r(100),s=r(7),a=r(55),o=r(34);function i(e,t){return new Promise((r,i)=>{Object(n.a)("/login",{username:e,password:t}).then(e=>{var t=e.data.data,n=t.jwtToken,i=t.userId;Object(o.d)(n,i),a.a.dispatch(Object(s.e)(n,i)),r(e.data.data)}).catch(e=>{i(e.response.data.responseCode)})})}function l(){Object(n.c)("/logout").then(e=>{console.log(e.data.data),Object(o.e)(),a.a.dispatch(Object(s.f)())}).catch(e=>{console.log(e)})}function c(e,t,r){return new Promise((i,l)=>{Object(n.a)("/register",{username:e,name:t,password:r}).then(e=>{var t=e.data.data,r=t.jwtToken,n=t.userId;Object(o.d)(r,n),a.a.dispatch(Object(s.e)(r,n)),i(e.data.data)}).catch(e=>{console.log(e),l(e.response.data)})})}},211:function(e,t,r){e.exports=r(400)},216:function(e,t,r){},221:function(e,t,r){},222:function(e,t,r){},251:function(e,t,r){var n={};n.web=r(170);var s=r(83),a={};a.vmr=r(114),a.vmr.FriendServiceClient=function(e,t,r){r||(r={}),r.format="text",this.client_=new n.web.GrpcWebClientBase(r),this.hostname_=e},a.vmr.FriendServicePromiseClient=function(e,t,r){r||(r={}),r.format="text",this.client_=new n.web.GrpcWebClientBase(r),this.hostname_=e};var o=new n.web.MethodDescriptor("/vmr.FriendService/GetFriendList",n.web.MethodType.UNARY,s.Empty,a.vmr.FriendListResponse,(function(e){return e.serializeBinary()}),a.vmr.FriendListResponse.deserializeBinary);new n.web.AbstractClientBase.MethodInfo(a.vmr.FriendListResponse,(function(e){return e.serializeBinary()}),a.vmr.FriendListResponse.deserializeBinary);a.vmr.FriendServiceClient.prototype.getFriendList=function(e,t,r){return this.client_.rpcCall(this.hostname_+"/vmr.FriendService/GetFriendList",e,t||{},o,r)},a.vmr.FriendServicePromiseClient.prototype.getFriendList=function(e,t){return this.client_.unaryCall(this.hostname_+"/vmr.FriendService/GetFriendList",e,t||{},o)};var i=new n.web.MethodDescriptor("/vmr.FriendService/GetChatFriendList",n.web.MethodType.UNARY,s.Empty,a.vmr.FriendListResponse,(function(e){return e.serializeBinary()}),a.vmr.FriendListResponse.deserializeBinary);new n.web.AbstractClientBase.MethodInfo(a.vmr.FriendListResponse,(function(e){return e.serializeBinary()}),a.vmr.FriendListResponse.deserializeBinary);a.vmr.FriendServiceClient.prototype.getChatFriendList=function(e,t,r){return this.client_.rpcCall(this.hostname_+"/vmr.FriendService/GetChatFriendList",e,t||{},i,r)},a.vmr.FriendServicePromiseClient.prototype.getChatFriendList=function(e,t){return this.client_.unaryCall(this.hostname_+"/vmr.FriendService/GetChatFriendList",e,t||{},i)};var l=new n.web.MethodDescriptor("/vmr.FriendService/QueryUser",n.web.MethodType.UNARY,a.vmr.UserListRequest,a.vmr.UserListResponse,(function(e){return e.serializeBinary()}),a.vmr.UserListResponse.deserializeBinary);new n.web.AbstractClientBase.MethodInfo(a.vmr.UserListResponse,(function(e){return e.serializeBinary()}),a.vmr.UserListResponse.deserializeBinary);a.vmr.FriendServiceClient.prototype.queryUser=function(e,t,r){return this.client_.rpcCall(this.hostname_+"/vmr.FriendService/QueryUser",e,t||{},l,r)},a.vmr.FriendServicePromiseClient.prototype.queryUser=function(e,t){return this.client_.unaryCall(this.hostname_+"/vmr.FriendService/QueryUser",e,t||{},l)};var c=new n.web.MethodDescriptor("/vmr.FriendService/ClearUnreadMessage",n.web.MethodType.UNARY,a.vmr.ClearUnreadMessageRequest,a.vmr.ClearUnreadMessageResponse,(function(e){return e.serializeBinary()}),a.vmr.ClearUnreadMessageResponse.deserializeBinary);new n.web.AbstractClientBase.MethodInfo(a.vmr.ClearUnreadMessageResponse,(function(e){return e.serializeBinary()}),a.vmr.ClearUnreadMessageResponse.deserializeBinary);a.vmr.FriendServiceClient.prototype.clearUnreadMessage=function(e,t,r){return this.client_.rpcCall(this.hostname_+"/vmr.FriendService/ClearUnreadMessage",e,t||{},c,r)},a.vmr.FriendServicePromiseClient.prototype.clearUnreadMessage=function(e,t){return this.client_.unaryCall(this.hostname_+"/vmr.FriendService/ClearUnreadMessage",e,t||{},c)};var p=new n.web.MethodDescriptor("/vmr.FriendService/SetFriendStatus",n.web.MethodType.UNARY,a.vmr.SetFriendStatusRequest,a.vmr.SetFriendStatusResponse,(function(e){return e.serializeBinary()}),a.vmr.SetFriendStatusResponse.deserializeBinary);new n.web.AbstractClientBase.MethodInfo(a.vmr.SetFriendStatusResponse,(function(e){return e.serializeBinary()}),a.vmr.SetFriendStatusResponse.deserializeBinary);a.vmr.FriendServiceClient.prototype.setFriendStatus=function(e,t,r){return this.client_.rpcCall(this.hostname_+"/vmr.FriendService/SetFriendStatus",e,t||{},p,r)},a.vmr.FriendServicePromiseClient.prototype.setFriendStatus=function(e,t){return this.client_.unaryCall(this.hostname_+"/vmr.FriendService/SetFriendStatus",e,t||{},p)};var u=new n.web.MethodDescriptor("/vmr.FriendService/GetUserInfo",n.web.MethodType.UNARY,a.vmr.GetUserInfoRequest,a.vmr.GetUserInfoResponse,(function(e){return e.serializeBinary()}),a.vmr.GetUserInfoResponse.deserializeBinary);new n.web.AbstractClientBase.MethodInfo(a.vmr.GetUserInfoResponse,(function(e){return e.serializeBinary()}),a.vmr.GetUserInfoResponse.deserializeBinary);a.vmr.FriendServiceClient.prototype.getUserInfo=function(e,t,r){return this.client_.rpcCall(this.hostname_+"/vmr.FriendService/GetUserInfo",e,t||{},u,r)},a.vmr.FriendServicePromiseClient.prototype.getUserInfo=function(e,t){return this.client_.unaryCall(this.hostname_+"/vmr.FriendService/GetUserInfo",e,t||{},u)},e.exports=a.vmr},252:function(e,t,r){},259:function(e,t,r){},291:function(e,t,r){},292:function(e,t,r){},293:function(e,t,r){},294:function(e,t,r){},34:function(e,t,r){"use strict";function n(e,t){localStorage.setItem("jwtToken",e),localStorage.setItem("userId",t)}function s(){return Number(localStorage.getItem("userId"))}function a(){return localStorage.getItem("jwtToken")}function o(){localStorage.clear()}function i(){return{"x-jwt-token":a()}}r.d(t,"d",(function(){return n})),r.d(t,"c",(function(){return s})),r.d(t,"b",(function(){return a})),r.d(t,"e",(function(){return o})),r.d(t,"a",(function(){return i}))},385:function(e,t,r){},386:function(e,t,r){},387:function(e,t,r){},388:function(e,t,r){},389:function(e,t,r){var n={};n.web=r(170);var s=r(83),a={};a.vmr=r(148),a.vmr.WalletServiceClient=function(e,t,r){r||(r={}),r.format="text",this.client_=new n.web.GrpcWebClientBase(r),this.hostname_=e},a.vmr.WalletServicePromiseClient=function(e,t,r){r||(r={}),r.format="text",this.client_=new n.web.GrpcWebClientBase(r),this.hostname_=e};var o=new n.web.MethodDescriptor("/vmr.WalletService/GetBalance",n.web.MethodType.UNARY,s.Empty,a.vmr.BalanceResponse,(function(e){return e.serializeBinary()}),a.vmr.BalanceResponse.deserializeBinary);new n.web.AbstractClientBase.MethodInfo(a.vmr.BalanceResponse,(function(e){return e.serializeBinary()}),a.vmr.BalanceResponse.deserializeBinary);a.vmr.WalletServiceClient.prototype.getBalance=function(e,t,r){return this.client_.rpcCall(this.hostname_+"/vmr.WalletService/GetBalance",e,t||{},o,r)},a.vmr.WalletServicePromiseClient.prototype.getBalance=function(e,t){return this.client_.unaryCall(this.hostname_+"/vmr.WalletService/GetBalance",e,t||{},o)};var i=new n.web.MethodDescriptor("/vmr.WalletService/Transfer",n.web.MethodType.UNARY,a.vmr.TransferRequest,a.vmr.TransferResponse,(function(e){return e.serializeBinary()}),a.vmr.TransferResponse.deserializeBinary);new n.web.AbstractClientBase.MethodInfo(a.vmr.TransferResponse,(function(e){return e.serializeBinary()}),a.vmr.TransferResponse.deserializeBinary);a.vmr.WalletServiceClient.prototype.transfer=function(e,t,r){return this.client_.rpcCall(this.hostname_+"/vmr.WalletService/Transfer",e,t||{},i,r)},a.vmr.WalletServicePromiseClient.prototype.transfer=function(e,t){return this.client_.unaryCall(this.hostname_+"/vmr.WalletService/Transfer",e,t||{},i)};var l=new n.web.MethodDescriptor("/vmr.WalletService/GetHistoryWithOffset",n.web.MethodType.UNARY,a.vmr.GetHistoryWithOffsetRequest,a.vmr.HistoryResponse,(function(e){return e.serializeBinary()}),a.vmr.HistoryResponse.deserializeBinary);new n.web.AbstractClientBase.MethodInfo(a.vmr.HistoryResponse,(function(e){return e.serializeBinary()}),a.vmr.HistoryResponse.deserializeBinary);a.vmr.WalletServiceClient.prototype.getHistoryWithOffset=function(e,t,r){return this.client_.rpcCall(this.hostname_+"/vmr.WalletService/GetHistoryWithOffset",e,t||{},l,r)},a.vmr.WalletServicePromiseClient.prototype.getHistoryWithOffset=function(e,t){return this.client_.unaryCall(this.hostname_+"/vmr.WalletService/GetHistoryWithOffset",e,t||{},l)};var c=new n.web.MethodDescriptor("/vmr.WalletService/RemindTransfer",n.web.MethodType.UNARY,a.vmr.TransferReminderRequest,a.vmr.TransferReminderResponse,(function(e){return e.serializeBinary()}),a.vmr.TransferReminderResponse.deserializeBinary);new n.web.AbstractClientBase.MethodInfo(a.vmr.TransferReminderResponse,(function(e){return e.serializeBinary()}),a.vmr.TransferReminderResponse.deserializeBinary);a.vmr.WalletServiceClient.prototype.remindTransfer=function(e,t,r){return this.client_.rpcCall(this.hostname_+"/vmr.WalletService/RemindTransfer",e,t||{},c,r)},a.vmr.WalletServicePromiseClient.prototype.remindTransfer=function(e,t){return this.client_.unaryCall(this.hostname_+"/vmr.WalletService/RemindTransfer",e,t||{},c)};var p=new n.web.MethodDescriptor("/vmr.WalletService/GetTransferReminder",n.web.MethodType.UNARY,s.Empty,a.vmr.TransferReminderListResponse,(function(e){return e.serializeBinary()}),a.vmr.TransferReminderListResponse.deserializeBinary);new n.web.AbstractClientBase.MethodInfo(a.vmr.TransferReminderListResponse,(function(e){return e.serializeBinary()}),a.vmr.TransferReminderListResponse.deserializeBinary);a.vmr.WalletServiceClient.prototype.getTransferReminder=function(e,t,r){return this.client_.rpcCall(this.hostname_+"/vmr.WalletService/GetTransferReminder",e,t||{},p,r)},a.vmr.WalletServicePromiseClient.prototype.getTransferReminder=function(e,t){return this.client_.unaryCall(this.hostname_+"/vmr.WalletService/GetTransferReminder",e,t||{},p)},e.exports=a.vmr},390:function(e,t,r){},393:function(e,t,r){},394:function(e,t,r){},395:function(e,t,r){},396:function(e,t,r){},397:function(e,t,r){},398:function(e,t,r){},400:function(e,t,r){"use strict";r.r(t);var n=r(0),s=r.n(n),a=r(23),o=r.n(a),i=(r(216),r(16)),l=(r(221),r(222),r(7)),c=r(158),p=r(410),u=r(414),m=r(415),d=r(416),f=r(417);function v(e){var t=Object(i.b)(),r=e=>{t(Object(l.l)(e))},n="menubar";e.className&&(n+=" ".concat(e.className));var a=Object(i.c)(e=>Object.values(e.friends.friends).map(e=>e.numNotifications).reduce((e,t)=>e+t,0)),o={color:"#1890ff"};return s.a.createElement("div",{className:n},s.a.createElement(g,{icon:s.a.createElement(u.a,{className:"menubar-icon",style:o}),onClick:()=>r("chat"),numMsg:a,tab:"chat"}),s.a.createElement(g,{icon:s.a.createElement(m.a,{className:"menubar-icon",style:o}),onClick:()=>r("wallet"),isMid:!0,tab:"wallet"}),s.a.createElement(g,{icon:s.a.createElement(d.a,{className:"menubar-icon",style:o}),onClick:()=>r("friend"),isMid:!0,tab:"friend"}),s.a.createElement(g,{icon:s.a.createElement(f.a,{className:"menubar-icon",style:o}),onClick:c.b}))}function g(e){var t=Object(i.c)(e=>e.ui.currentTab),r=e.icon,n=e.onClick,a=e.tab,o=e.isMid,l=e.numMsg,c="icon-wrapper ";return o&&(c+=" mid"),t===a&&(c+=" icon-wrapper-active"),s.a.createElement("div",{className:c,onClick:n},s.a.createElement(p.a,{size:"small",count:l,offset:[0,15]},r))}var R=r(29),y=r(34),E=r(114),h=E.UserListRequest,b=E.ClearUnreadMessageRequest,F=E.SetFriendStatusRequest,M=E.GetUserInfoRequest,T=r(83).Empty,I=new(0,r(251).FriendServiceClient)("http://localhost:8083",null,null);function B(e,t){return new Promise((r,n)=>{var s=new F;s.setFriendId(e),"REMOVE"===t?s.setType(F.Type.REMOVE_FRIEND):"ADD"===t?s.setType(F.Type.ADD_FRIEND):"ACCEPT"===t?s.setType(F.Type.ACCEPT_FRIEND):"REJECT"===t&&s.setType(F.Type.REJECT_FRIEND),I.setFriendStatus(s,Object(y.a)(),(e,t)=>{if(e)console.log("Connection error"),n(e);else{var s=t.getError();s?(console.log(s),n(s)):r(t)}})})}var O=r(58),S=(r(252),r(418));function w(){var e=Object(i.b)(),t=Object(i.c)(e=>Object.keys(e.friends.friends).length);return s.a.createElement("div",{className:"friend-search"},s.a.createElement("input",{type:"search",className:"friend-search-input",placeholder:"B\u1ea1n b\xe8: "+t,disabled:!0}),s.a.createElement(O.a,{type:"primary",className:"friend-search-button",onClick:()=>{e(Object(l.j)(!0))}},s.a.createElement(S.a,null),"Th\xeam"))}var N=r(403),j=r(407),C=r(412),U=r(409),D=r(419),W=["#f56a00","#7265e6","#ffbf00","#00a2ae","#007aff"];function z(e){return W[e%W.length]}var L=r(60),_=r.n(L);function k(e){var t=e.split(" ");return t[t.length-1].charAt(0).toUpperCase()}function G(e){return"".concat(e).replace(/\B(?=(\d{3})+(?!\d))/g," ")}function q(e){return _()(1e3*e).format("HH:mm - DD/MM/YYYY")}function A(e){return _()(1e3*e).format("MM/YYYY")}r(259);var H=r(65),P=r(65).useHistory,x=r(114).FriendStatus;function V(){var e=Object(n.useState)([]),t=Object(R.a)(e,2),r=t[0],a=t[1],o=Object(i.c)(e=>e.ui.friendReloadFlag);return Object(n.useEffect)(()=>{new Promise((e,t)=>{var r=new T;I.getFriendList(r,{"x-jwt-token":Object(y.b)()},(r,n)=>{if(r)console.log("Connection error"),t(r);else{var s=n.getError();s?(console.log(s),t(s)):e(n)}})}).then(e=>{var t=e.getFriendInfoList();a(t)}).catch(e=>{console.log(e)})},[o]),s.a.createElement("div",{className:"conversation-list-scroll"},s.a.createElement(w,null),s.a.createElement(N.b,{dataSource:r,renderItem:e=>s.a.createElement(J,{item:e})}))}function J(e){var t,r=e.item,n=P(),a=Object(i.b)(),o="B\u1ea1n b\xe8",c=e=>{e.preventDefault(),B(r.getId(),"REJECT").then(e=>{console.log(e),a(Object(l.c)())}).catch(e=>{console.log(e)})};if(r.getFriendStatus()===x.WAITING)t=s.a.createElement(O.a,{className:"friend-modal-button",onClick:c},s.a.createElement(D.a,null),"H\u1ee7y l\u1eddi m\u1eddi"),o="B\u1ea1n \u0111\xe3 g\u1eedi l\u1eddi m\u1eddi";else if(r.getFriendStatus()===x.NOT_ANSWER){var p=s.a.createElement(j.a,null,s.a.createElement(j.a.Item,null,s.a.createElement("a",{href:"/",onClick:e=>{e.preventDefault(),B(r.getId(),"ACCEPT").then(e=>{console.log(e),a(Object(l.c)())}).catch(e=>{console.log(e)})}},"Ch\u1ea5p nh\u1eadn")),s.a.createElement(j.a.Item,null,s.a.createElement("a",{href:"/",onClick:c},"T\u1eeb ch\u1ed1i")));t=s.a.createElement(C.a,{overlay:p,placement:"bottomLeft"},s.a.createElement(O.a,{className:"friend-modal-button"},"Tr\u1ea3 l\u1eddi")),o="\u0110\xe3 g\u1eedi cho b\u1ea1n l\u1eddi m\u1eddi"}else{var u=s.a.createElement(j.a,null,s.a.createElement(j.a.Item,null,s.a.createElement("a",{href:"/",onClick:e=>{e.preventDefault(),n.push("/t/"+r.getId()),a(Object(l.k)(!1))}},"Chat ngay")),s.a.createElement(j.a.Item,null,s.a.createElement("a",{href:"/",onClick:e=>{e.preventDefault(),B(r.getId(),"REMOVE").then(()=>{a(Object(l.c)())}).catch(e=>{console.log(e)})}},"H\u1ee7y k\u1ebft b\u1ea1n")));t=s.a.createElement(C.a,{overlay:u,placement:"bottomLeft"},s.a.createElement(O.a,{className:"friend-modal-button"},"T\xf9y ch\u1ecdn"))}return s.a.createElement(N.b.Item,{key:r.getId(),className:"friend-tab-item"},s.a.createElement(N.b.Item.Meta,{avatar:s.a.createElement(U.a,{style:{backgroundColor:z(r.getId())},size:50},k(r.getName())),title:s.a.createElement(H.Link,{to:"/t/"+r.getId()},r.getName()),description:o}),s.a.createElement("div",null,t))}r(291),r(292);function $(e){var t=e.name,r=e.onlineStatus,n={backgroundColor:z(t.length)};return s.a.createElement("div",{className:"vmr-avatar"},s.a.createElement(U.a,{style:n,size:50},k(t)),r&&s.a.createElement("span",{className:"badge "}))}var Y=r(65).useHistory;function X(e){var t=Y(),r=Object(y.c)(),n=Object(i.c)(e=>e.friends.currentFriendId),a=Object(i.c)(t=>t.friends.friends[e.friendId]),o=Object(i.b)(),c=a.online,u=a.id,m="conversation-list-item",d="conversation-text";n===u&&(m+=" current-friend"),0!==a.numNotifications&&(d+=" unread");var f="@".concat(a.username);a.lastMsg&&("TRANSFER"===a.lastMsgType?(f=a.lastMsgSender!==r?a.name+" \u0111\xe3 chuy\u1ec3n ti\u1ec1n cho b\u1ea1n":"B\u1ea1n \u0111\xe3 chuy\u1ec3n ti\u1ec1n cho "+a.name).length>30&&(f=f.substr(0,27)+"..."):(f=(a.lastMsgSender===r?"B\u1ea1n: ":"")+a.lastMsg).length>30&&(f=f.substr(0,27)+"..."));return s.a.createElement("div",{className:m,onClick:()=>{t.push("/t/"+u),o(Object(l.b)(u)),o(Object(l.k)(!1))}},s.a.createElement($,{name:a.name,onlineStatus:c}),s.a.createElement("div",{className:"conversation-info",style:{paddingLeft:"10px"}},s.a.createElement("h1",{className:"conversation-title"},a.name," ",s.a.createElement(p.a,{size:"small",count:a.numNotifications})),s.a.createElement("p",{className:d},f)))}function K(){var e=Object(i.c)(e=>e.friends.friends);return s.a.createElement("div",{className:"conversation-list-scroll"},s.a.createElement(w,null),Object.keys(e).sort((t,r)=>e[r].lastMsgTimestamp-e[t].lastMsgTimestamp).map(e=>s.a.createElement(X,{key:e,friendId:e})))}var Q=r(401),Z=r(402),ee=(r(293),r(65).useHistory);function te(e){var t=e.icon,r=e.title,n=e.description,a=e.tabName,o=e.path,c=Object(i.b)(),p=ee(),u="wallet-tab-item";Object(i.c)(e=>e.ui.currentWalletTab)===a&&(u+=" active");return s.a.createElement(Q.a,{className:u,onClick:()=>{c(Object(l.m)(a)),c(Object(l.k)(!1)),p.push(o)}},s.a.createElement(Z.a,{className:"icon-content",span:6},t),s.a.createElement(Z.a,{className:"text-content",span:18},s.a.createElement("h1",{className:"conversation-title"},r),s.a.createElement("p",{className:"description"},n)))}var re=r(420),ne=r(421);function se(){return s.a.createElement("div",{className:"conversation-list-scroll"},s.a.createElement(te,{icon:s.a.createElement(re.a,{style:{color:"#389e0d"}}),title:"S\u1ed1 D\u01b0",description:"Xem s\u1ed1 d\u01b0, th\xf4ng tin t\xe0i kho\u1ea3n",tabName:"balance",path:"/w/balance"}),s.a.createElement(te,{icon:s.a.createElement(ne.a,{style:{color:"#096dd9"}}),title:"L\u1ecbch s\u1eed",description:"Xem l\u1ecbch s\u1eed giao d\u1ecbch",tabName:"history",path:"/w/history"}))}var ae=r(55);var oe="CHAT",ie="SEND_BACK",le="ONLINE",ce="OFFLINE",pe="ACCEPT",ue="REMOVE_FRIEND",me={currentConn:null,setNew(e){this.isActive()&&this.currentConn.close(),this.currentConn=e},clean(){this.isActive()&&this.currentConn.close(),this.currentConn=null},isActive(){return Boolean(this.currentConn)&&this.currentConn.readyState===WebSocket.OPEN}};function de(){!function e(){var t=Object(y.b)();if(!t)return;var r=new WebSocket("ws://localhost:8081"+"?token=".concat(t));r.onopen=()=>{me.setNew(r);ae.a.dispatch(Object(l.p)(me,(function(e,t){var n={type:oe,data:{receiverId:e,message:t}};r.send(JSON.stringify(n))}),()=>{me.clean()}))},r.onmessage=e=>{var t=JSON.parse(e.data),r=t.type,n=t.data;r===oe?(ae.a.dispatch(Object(l.h)(n)),console.log(n)):r===ie?ae.a.dispatch(Object(l.i)(n)):r===le?ae.a.dispatch(Object(l.g)(n,!0)):r===ce?ae.a.dispatch(Object(l.g)(n,!1)):r!==pe&&r!==ue||ae.a.dispatch(Object(l.c)())},r.onclose=()=>{setTimeout(()=>{me.isActive()||(console.log("reconnect"),e(t))},1e3)},r.onerror=()=>{me.clean()}}()}function fe(){var e=Object(i.b)(),t=Object(i.c)(e=>e.ui.friendReloadFlag);Object(n.useEffect)(()=>{new Promise((e,t)=>{var r=new T;I.getChatFriendList(r,Object(y.a)(),(r,n)=>{if(r)console.log("Connection error"),t(r);else{var s=n.getError();s?(console.log(s),t(s)):e(n)}})}).then(t=>{e(Object(l.o)(t.getFriendInfoList().map(e=>({id:e.getId(),name:e.getName(),username:e.getUsername(),online:e.getOnline(),lastMsg:e.getLastMessage(),lastMsgSender:e.getLastMessageSender(),lastMsgType:e.getLastMessageType(),lastMsgTimestamp:e.getLastMessageTimestamp(),numNotifications:e.getNumUnreadMessage()})))),de()}).catch(e=>{console.log(e)})},[t,e])}var ve=r(406),ge=r(411),Re=r(404),ye=r(408),Ee=r(422),he=r(423),be=(r(294),r(65).useHistory),Fe=r(114).FriendStatus,Me=ve.a.Title,Te=ve.a.Text,Ie=ge.a.Search;function Be(e){var t=e.item,r=Object(i.b)(),a=be(),o=Object(n.useState)(!1),c=Object(R.a)(o,2),p=c[0],u=c[1],m=Object(n.useState)(!1),d=Object(R.a)(m,2),f=d[0],v=d[1],g=s.a.createElement(O.a,{type:"primary",className:"friend-modal-button",onClick:()=>{B(t.getId(),"ADD").then(e=>{console.log(e),u(!0),r(Object(l.c)())}).catch(e=>{console.log(e)})}},s.a.createElement(S.a,null),"K\u1ebft b\u1ea1n"),y=t.getFriendStatus();return f||y===Fe.FRIEND?g=s.a.createElement(O.a,{className:"friend-modal-button",onClick:()=>{r(Object(l.j)(!1)),a.push("/t/"+t.getId())}},"Chat ngay"):p||y===Fe.WAITING?g=s.a.createElement(Te,{type:"secondary"},"\u0110ang ch\u1edd ph\u1ea3n h\u1ed3i"):y===Fe.NOT_ANSWER&&(g=s.a.createElement(O.a,{className:"friend-modal-button",onClick:()=>{B(t.getId(),"ACCEPT").then(e=>{console.log(e),v(!0),r(Object(l.c)())}).catch(e=>{console.log(e)})}},s.a.createElement(he.a,null),"Ch\u1ea5p nh\u1eadn")),s.a.createElement(N.b.Item,{key:t.getId()},s.a.createElement(N.b.Item.Meta,{avatar:s.a.createElement(U.a,{style:{backgroundColor:z(t.getId())},size:50},k(t.getName())),title:s.a.createElement("a",{href:"https://ant.design"},t.getName()),description:"@"+t.getUsername()}),s.a.createElement("div",null,g))}var Oe=function(){var e=Object(i.c)(e=>e.ui.searchUserActive),t=Object(i.b)(),r=Object(n.useState)([]),a=Object(R.a)(r,2),o=a[0],c=a[1],p=Object(y.c)(),u=Object(n.useRef)(null),m=Re.a.useForm(),d=Object(R.a)(m,1)[0],f=()=>{t(Object(l.j)(!1)),c([]),d.resetFields()};return s.a.createElement(ye.a,{visible:e,onCancel:f,footer:[s.a.createElement(O.a,{key:"back",onClick:f},"\u0110\xf3ng")]},s.a.createElement(Me,{level:2,className:"vmr-modal-title"},s.a.createElement(Ee.a,{className:"friend-search-icon"}),"T\xecm b\u1ea1n"),s.a.createElement(Re.a,{form:d,initialValues:{searchInput:""}},s.a.createElement(Re.a.Item,{name:"searchInput"},s.a.createElement(Ie,{placeholder:"Nh\u1eadp username ho\u1eb7c name",onChange:e=>{var t=e.target.value;0!==t.length&&function(e){return new Promise(t=>{var r=new h;r.setQueryString(e),I.queryUser(r,Object(y.a)(),(e,r)=>{e?console.log(e):t(r.getUserList())})})}(t).then(e=>{c(e.filter(e=>e.getId()!==p))})},ref:u}))),s.a.createElement("div",{className:"user-list-search"},s.a.createElement(N.b,{dataSource:o,renderItem:e=>s.a.createElement(Be,{item:e})})))};function Se(){var e=Object(i.c)(e=>e.ui.currentTab),t=Object(i.c)(e=>e.ui.sideBarActive);fe();var r="left-sidebar";return t&&(r+=" active"),s.a.createElement("div",{className:r},s.a.createElement(v,null),"chat"===e&&s.a.createElement(K,null),"friend"===e&&s.a.createElement(V,null),"wallet"===e&&s.a.createElement(se,null),s.a.createElement(Oe,null))}r(385);function we(e){return s.a.createElement("div",{className:"compose"},s.a.createElement("input",{type:"text",className:"compose-input",placeholder:"Type a message, @name",onKeyUp:e.onKeyUp,ref:e.inputRef}),e.rightItems)}r(386);function Ne(e){var t=e.icon,r=e.onClick,n=e.type,a=e.style,o="toolbar-btn-wrapper";return"top-bar-btn"===n&&(o+=" topbar-btn-wrapper"),"compose-btn"===n&&(o+=" compose-btn-wrapper"),e.active&&(o+=" compose-btn-active"),s.a.createElement("div",{className:o,onClick:r,style:a},t)}var je=r(424),Ce=r(425);r(387);function Ue(e){var t=e.title,r=e.leftItems,n=e.rightItems,a="toolbar";return e.className&&(a+=" ".concat(e.className)),s.a.createElement("div",{className:a},s.a.createElement("div",{className:"left-items"},r),s.a.createElement("h1",{className:"toolbar-title"},t),s.a.createElement("div",{className:"right-items"},n))}function De(){var e=Object(i.b)();return function(){e(Object(l.k)(!0))}}function We(){var e=Object(n.useState)(window.innerWidth),t=Object(R.a)(e,2),r=t[0],s=t[1];return Object(n.useEffect)(()=>{var e=()=>{s(window.innerWidth)};return window.addEventListener("resize",e),()=>{window.removeEventListener("resize",e)}},[]),r}function ze(e){var t=De(),r=e.title,n=[];return We()<700&&(n=[s.a.createElement(Ne,{key:"info",icon:s.a.createElement(je.a,{style:{color:"#1890ff"}}),onClick:t,type:"top-bar-btn"})]),s.a.createElement(Ue,{title:r,className:"chat-title-bar",rightItems:[s.a.createElement(Ne,{key:"info",icon:s.a.createElement(Ce.a,null),type:"top-bar-btn"})],leftItems:n})}var Le=r(100);function _e(e,t){return new Promise(r=>{var n="/chat/".concat(e,"/").concat(t);Object(Le.b)(n).then(e=>{var t=e.data.data;r(t)}).catch(e=>{console.log(e)})})}r(388);var ke=r(426),Ge=r(427);function qe(e){var t=e.data,r=e.isMine,n=e.startsSequence,a=e.endsSequence,o=e.showTimestamp,i=t.transfer,l=t.message.match(/(\d+);(.+)/),c=_()(t.timestamp).format("HH:mm DD-MM-YYYY");return s.a.createElement("div",{className:["message","".concat(r?"mine":""),"".concat(n?"start":""),"".concat(a?"end":"")].join(" ")},o&&s.a.createElement("div",{className:"timestamp"},c),s.a.createElement("div",{className:"bubble-container"},!i&&s.a.createElement("div",{className:"bubble",title:c},t.message),i&&r&&s.a.createElement("div",{className:"bubble transfer",title:c},s.a.createElement(Q.a,{gutter:[8,8]},s.a.createElement(Z.a,{span:4},s.a.createElement(ke.a,{style:{fontSize:"30px"}})),s.a.createElement(Z.a,{span:20},"Chuy\u1ec3n ",s.a.createElement("span",{className:"amount"},G(Number(l[1])))," VN\u0110",s.a.createElement("br",null),s.a.createElement("span",{className:"msg"},l[2])))),i&&!r&&s.a.createElement("div",{className:"bubble receive",title:c},s.a.createElement(Q.a,{gutter:[8,8]},s.a.createElement(Z.a,{span:4},s.a.createElement(Ge.a,{style:{fontSize:"30px"}})),s.a.createElement(Z.a,{span:20},"Chuy\u1ec3n cho b\u1ea1n ",s.a.createElement("span",{className:"amount"},G(Number(l[1])))," VN\u0110",s.a.createElement("br",null),s.a.createElement("span",{className:"msg"},l[2]))))))}var Ae=r(430),He=r(433),Pe=r(152),xe=r.n(Pe),Ve=r(186),Je=r(405),$e=r(413),Ye=r(428),Xe=r(429),Ke=r(431),Qe=r(432),Ze=r(83).Empty,et=r(148),tt=et.TransferRequest,rt=et.GetHistoryWithOffsetRequest,nt=new(0,r(389).WalletServiceClient)("http://localhost:8083",null,null);function st(){return new Promise((e,t)=>{nt.getBalance(new Ze,Object(y.a)(),(r,n)=>{r?t(r):n.getError()?t(n.getError()):e(n.getData())})})}r(390);var at=r(83).ErrorCode,ot=ve.a.Title,it=ge.a.TextArea,lt=ge.a.Password,ct=Je.a.Step,pt={labelCol:{span:8},wrapperCol:{span:16}};function ut(e){var t=e.active,r=e.setActive,a=e.receiverName,o=e.receiverId,i=Object(n.useState)(2),l=Object(R.a)(i,2),c=l[0],p=l[1],u=Object(n.useState)(0),m=Object(R.a)(u,2),d=m[0],f=m[1],v=Object(n.useState)(""),g=Object(R.a)(v,2),E=g[0],h=g[1],b=Object(n.useState)(""),F=Object(R.a)(b,2),M=F[0],T=F[1],I=Re.a.useForm(null),B=Object(R.a)(I,1)[0],S=Re.a.useForm(null),w=Object(R.a)(S,1)[0],N=Object(n.useState)(!1),j=Object(R.a)(N,2),C=j[0],U=j[1],W=We(),z=function(...e){var t=Object(n.useState)(0),r=Object(R.a)(t,2),s=r[0],a=r[1];return Object(n.useEffect)(()=>{st().then(e=>{a(e.getBalance())})},[...e]),s}(c,t),L=Object(n.useState)(""),_=Object(R.a)(L,2),k=_[0],q=_[1],A=Object(n.useState)(0),H=Object(R.a)(A,2),P=H[0],x=H[1],V=Object(n.useState)(!1),J=Object(R.a)(V,2),$=J[0],Y=J[1];Object(n.useEffect)(()=>{p(0),f(0),U(!1),T(""),h("Chuy\u1ec3n ti\u1ec1n")},[t]),Object(n.useEffect)(()=>{console.log("Compute requestId"),x(Date.now())},[]);var X=()=>{x(Date.now()),B.resetFields(),w.resetFields(),r(!1),Y(!1)},K=function(){var e=Object(Ve.a)(xe.a.mark((function e(t,r){return xe.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:if(!(r<1e3)){e.next=4;break}throw new Error("S\u1ed1 ti\u1ec1n chuy\u1ec3n ph\u1ea3i t\u1eeb 1000\u0111 tr\u1edf l\xean");case 4:if(!(r>z)){e.next=8;break}throw new Error("S\u1ed1 ti\u1ec1n kh\xf4ng \u0111\u01b0\u1ee3c v\u01b0\u1ee3t qu\xe1 balance");case 8:if(Math.round(r)===r){e.next=10;break}throw new Error("S\u1ed1 ti\u1ec1n kh\xf4ng \u0111\u01b0\u1ee3c l\xe0 s\u1ed1 l\u1ebb");case 10:case"end":return e.stop()}}),e)})));return function(t,r){return e.apply(this,arguments)}}(),ee=[s.a.createElement(O.a,{key:"back",onClick:X},s.a.createElement(D.a,null)," H\u1ee7y"),s.a.createElement(O.a,{key:"submit",type:"primary",onClick:()=>{f(B.getFieldValue("amount")),h(B.getFieldValue("message")),p(1)},disabled:!C},"Ti\u1ebfp theo ",s.a.createElement(Ye.a,null))];1===c?ee=[s.a.createElement(O.a,{key:"back",onClick:()=>p(0)},s.a.createElement(Xe.a,null),"Quay l\u1ea1i"),s.a.createElement(O.a,{key:"submit",type:"primary",onClick:()=>{Y(!0),function(e,t,r,n,s){return new Promise((a,o)=>{var i=new tt;i.setReceiver(e),i.setAmount(t),i.setPassword(r),i.setMessage(n),i.setRequestId(s),nt.transfer(i,Object(y.a)(),(e,t)=>{e?(console.log(e),o(e)):t.getError()?(console.log(t.getError()),o(t.getError())):a("OK")})})}(o,d,M,E,P).then(()=>{p(2)}).catch(e=>{e.getCode?e.getCode()===at.PASSWORD_INVALID?q("M\u1eadt kh\u1ea9u b\u1ea1n nh\u1eadp kh\xf4ng h\u1ee3p l\u1ec7"):e.getCode()===at.BALANCE_NOT_ENOUGH?q("S\u1ed1 d\u01b0 c\u1ee7a b\u1ea1n kh\xf4ng \u0111\u1ee7"):e.getCode()===at.RECEIVER_NOT_EXIST?q("Ng\u01b0\u1eddi nh\u1eadn kh\xf4ng t\u1ed3n t\u1ea1i"):e.getCode()===at.REQUEST_EXISTED&&q("B\u1ea1n \u0111\xe3 th\u1ef1c hi\u1ec7n giao d\u1ecbch n\xe0y r\u1ed3i"):q("L\u1ed7i h\u1ec7 th\u1ed1ng"),p(3),Y(!1)})},loading:$,disabled:0===M.length},"Chuy\u1ec3n ti\u1ec1n")]:2===c?ee=[s.a.createElement(O.a,{key:"submit",type:"primary",onClick:X},"Tho\xe1t")]:3===c&&(ee=[s.a.createElement(O.a,{key:"back",onClick:()=>p(0)},s.a.createElement(Xe.a,null),"Th\u1eed l\u1ea1i"),s.a.createElement(O.a,{key:"submit",type:"primary",onClick:X,disabled:0===M.length},"Tho\xe1t")]);var te=e=>c===e?{}:{display:"none"};return s.a.createElement(ye.a,{destroyOnClose:!0,visible:t,onCancel:X,centered:!0,footer:ee,className:"transfer-modal"},s.a.createElement(ot,{level:4,className:"vmr-modal-title"},s.a.createElement(Ae.a,{className:"transfer-money-icon",style:{color:"#d49311",fontSize:"34px"}}),"Chuy\u1ec3n ti\u1ec1n t\u1edbi ",s.a.createElement("span",{style:{color:"green"}},a)),W>=768&&s.a.createElement(Je.a,{current:c,style:{paddingTop:"10px"},size:"small"},s.a.createElement(ct,{title:"Nh\u1eadp s\u1ed1 ti\u1ec1n"}),s.a.createElement(ct,{title:"X\xe1c th\u1ef1c"}),s.a.createElement(ct,{title:"Ho\xe0n t\u1ea5t"})),s.a.createElement("div",{className:"transfer-step",style:te(0)},s.a.createElement(Re.a,Object.assign({},pt,{form:B,initialValues:{message:"Chuy\u1ec3n ti\u1ec1n"},onValuesChange:(e,t)=>{var r=t.amount;isNaN(r)||Math.round(r)!==r||r<1e3||r>z?U(!1):U(!0)}}),s.a.createElement(Re.a.Item,{label:"S\u1ed1 d\u01b0 kh\u1ea3 d\u1ee5ng"},G(z)," VN\u0110"),s.a.createElement(Re.a.Item,{label:"Nh\u1eadp s\u1ed1 ti\u1ec1n",name:"amount",rules:[{required:!0,message:"Vui l\xf2ng nh\u1eadp s\u1ed1 ti\u1ec1n"},{validator:K}]},s.a.createElement($e.a,{className:"left-input",formatter:e=>G(e)})),s.a.createElement(Re.a.Item,{name:"message",label:"Nh\u1eadp l\u1eddi nh\u1eafn",rules:[{required:!0,message:"Vui l\xf2ng nh\u1eadp l\u1eddi nh\u1eafn"}]},s.a.createElement(it,{className:"left-input"})))),s.a.createElement("div",{className:"transfer-step",style:te(1)},s.a.createElement(Re.a,Object.assign({},pt,{form:w,onValuesChange:(e,t)=>{T(t.password)}}),s.a.createElement(Re.a.Item,{label:"S\u1ed1 d\u01b0 kh\u1ea3 d\u1ee5ng"},G(z)," VN\u0110"),s.a.createElement(Re.a.Item,{label:"S\u1ed1 ti\u1ec1n chuy\u1ec3n"},G(d)," VN\u0110"),s.a.createElement(Re.a.Item,{label:"L\u1eddi nh\u1eafn"},E),s.a.createElement(Re.a.Item,{name:"password",label:"X\xe1c th\u1ef1c m\u1eadt kh\u1ea9u"},s.a.createElement(lt,null)))),s.a.createElement("div",{className:"transfer-step",style:te(2)},s.a.createElement(Q.a,null,s.a.createElement(Z.a,{className:"status-container",xs:24,md:8},s.a.createElement(Ke.a,{style:{color:"green",fontSize:"100px"}})),s.a.createElement(Z.a,{xs:24,md:16},s.a.createElement(Q.a,{className:"status-row"},s.a.createElement(Z.a,{span:12},"Tr\u1ea1ng th\xe1i:"),s.a.createElement(Z.a,{span:12},"Th\xe0nh c\xf4ng")),s.a.createElement(Q.a,{className:"status-row"},s.a.createElement(Z.a,{span:12},"S\u1ed1 ti\u1ec1n tr\u1eeb:"),s.a.createElement(Z.a,{span:12},d," VN\u0110")),s.a.createElement(Q.a,{className:"status-row"},s.a.createElement(Z.a,{span:12},"S\u1ed1 d\u01b0 c\xf2n l\u1ea1i:"),s.a.createElement(Z.a,{span:12},z," VN\u0110"))))),s.a.createElement("div",{className:"transfer-step",style:te(3)},s.a.createElement(Q.a,null,s.a.createElement(Z.a,{className:"status-container",xs:24,md:8},s.a.createElement(Qe.a,{style:{color:"red",fontSize:"100px"}})),s.a.createElement(Z.a,{xs:24,md:16},s.a.createElement(Q.a,{className:"status-row"},s.a.createElement(Z.a,{span:12},"Tr\u1ea1ng th\xe1i:"),s.a.createElement(Z.a,{span:12},"Th\u1ea5t b\u1ea1i")),s.a.createElement(Q.a,{className:"status-row"},s.a.createElement(Z.a,{span:12},"S\u1ed1 ti\u1ec1n tr\u1eeb:"),s.a.createElement(Z.a,{span:12},"0 VN\u0110")),s.a.createElement(Q.a,{className:"status-row"},s.a.createElement(Z.a,{span:12},"S\u1ed1 d\u01b0 c\xf2n l\u1ea1i:"),s.a.createElement(Z.a,{span:12},z," VN\u0110")),s.a.createElement(Q.a,{className:"status-row"},s.a.createElement(Z.a,{span:12},"L\xfd do:"),s.a.createElement(Z.a,{span:12},k))))))}var mt=r(103),dt=(r(393),r(192));r(394);function ft(){return s.a.createElement("div",{className:"loading-area"},s.a.createElement(dt.a,{size:"large"}))}function vt(){var e=De();return Object(n.useEffect)(()=>{e()}),s.a.createElement("div",null)}function gt(e){var t=e.receiverId,r=Object(i.c)(e=>e.chat.scrollFlag),a=Object(i.c)(e=>e.webSocket),o=Object(i.c)(e=>e.friends.currentFriendId),c=Object(i.c)(e=>e.chat.messages[t]),p=Object(i.c)(e=>e.friends.friends[t]),u=Object(i.b)(),m=(e,t)=>{u(Object(l.d)(e,t))},d=()=>{!function(e){var t=new b;t.setFriendId(e),I.clearUnreadMessage(t,Object(y.a)(),(e,t)=>{if(e)console.log("Connection error");else{var r=t.getError();r&&console.log(r)}})}(t),u(Object(l.b)(t))},f=Object(n.useRef)(null),v=Object(n.useRef)(null),g=Object(n.useRef)(null),E=Object(n.useState)(!1),h=Object(R.a)(E,2),F=h[0],M=h[1],T=Object(n.useState)(!1),B=Object(R.a)(T,2),O=B[0],S=B[1],w=Object(n.useState)(!0),N=Object(R.a)(w,2),j=N[0],C=N[1],U=()=>{var e=f.current;e&&e.scrollIntoView(),C(!1)},D=c.map(e=>({id:e.timestamp,message:e.message,author:e.senderId,timestamp:1e3*e.timestamp,isMine:e.isMine,transfer:"TRANSFER"===e.type}));Object(n.useEffect)(()=>{var e;C(!0),e=t,u(Object(l.n)(e)),(()=>{var e=v.current,r=D.length,n=e.clientHeight,s=e.scrollHeight;console.log(n,s),n>=s&&_e(t,r).then(e=>(m(e,t),e.messages.length+r)).then(e=>{n<=s?_e(t,e).then(e=>{m(e,t),U()}):U()})})(),d()},[t]),Object(n.useEffect)(()=>{var e=f.current;e&&e.scrollIntoView()},[r,o]);var W=()=>{var e=g.current.value;""!==e&&a.send(t,e),g.current.value="",M(!1)};return s.a.createElement("div",{className:"message-list",onFocus:d},s.a.createElement(ze,{title:p.name}),s.a.createElement("div",{className:"message-list-container",ref:v,onScroll:e=>{var r=e.target;0===r.scrollTop&&r.scrollHeight>r.clientHeight&&_e(t,c.length).then(e=>{var n=r.scrollHeight;m(e,t);var s=r.scrollHeight;r.scrollTo(0,s-n)})}},D.length>0&&function(e){for(var t=Number(localStorage.getItem("userId")),r=0,n=e.length,a=[];r<n;){var o=e[r-1],i=e[r],l=e[r+1],c=i.author===t,p=_()(i.timestamp),u=!1,m=!1,d=!0,f=!0,v=!0;if(o){var g=_()(o.timestamp),R=_.a.duration(p.diff(g));u=o.author===i.author,i.transfer||o.transfer?d=!0:u&&R.as("hours")<1&&(d=!1),R.as("hours")<1&&(v=!1)}if(l){var y=_()(l.timestamp),E=_.a.duration(y.diff(p));m=l.author===i.author,l.transfer?f=!0:!i.transfer&&m&&E.as("hours")<1&&(f=!1)}a.push(s.a.createElement(qe,{key:r,isMine:c,startsSequence:d,endsSequence:f,showTimestamp:v,data:i})),r+=1}return a}(D),!j&&0===D.length&&s.a.createElement(mt.a,{description:s.a.createElement("span",null,"Chat v\u1edbi ",p.name," ngay!")}),j&&0===D.length&&s.a.createElement(ft,null),s.a.createElement("div",{ref:f,style:{height:"0px"}})),s.a.createElement(we,{rightItems:[s.a.createElement(Ne,{key:"transfer",icon:s.a.createElement(Ae.a,null),onClick:()=>{S(!0)},type:"compose-btn",style:{color:"#389e0d"}}),s.a.createElement(Ne,{key:"send",icon:s.a.createElement(He.a,null),onClick:W,active:F,type:"compose-btn",style:{color:"#1890ff"}})],onKeyUp:e=>{""!==e.target.value?M(!0):M(!1),13===e.keyCode&&""!==e.target.value&&W()},inputRef:g}),s.a.createElement(ut,{receiverId:p.id,active:O,setActive:S,receiverName:p.name}))}function Rt(e){var t=Number(e.match.params.receiverId),r=Object(i.c)(e=>e.chat.messages[t]),n=Object(i.c)(e=>e.friends.friends[t]);return r&&n?s.a.createElement(gt,{receiverId:t}):s.a.createElement(vt,null)}r(395);var yt=r(434),Et=r(435),ht=r(436);function bt(){var e=function(...e){var t=Object(n.useState)({balance:-1,userName:null,lastUpdated:null,name:null}),r=Object(R.a)(t,2),s=r[0],a=r[1];return Object(n.useEffect)(()=>{st().then(e=>{a({balance:e.getBalance(),userName:e.getUserName(),lastUpdated:e.getLastUpdated(),name:e.getName()})})},[...e]),s}(),t=-1!==e.balance;return s.a.createElement("div",{className:"balance-page"},s.a.createElement(ze,{title:"S\u1ed1 d\u01b0"}),t&&s.a.createElement(Q.a,{className:"balance-row"},s.a.createElement(Z.a,{xs:24,className:"balance-col left"},s.a.createElement("div",{className:"balance-container"},s.a.createElement("p",null,"S\u1ed1 d\u01b0"),s.a.createElement("p",null,s.a.createElement("span",{className:"balance-number"},G(e.balance))," VN\u0110"))),s.a.createElement(Z.a,{xs:24},s.a.createElement(Q.a,{justify:"center",className:"info-row"},s.a.createElement(Z.a,{span:3},s.a.createElement(yt.a,{style:{color:"#096dd9",fontSize:"30px"}})),s.a.createElement(Z.a,{span:9,className:"key"},"T\xean t\xe0i kho\u1ea3n:"),s.a.createElement(Z.a,{span:12,className:"value"},e.userName," ")),s.a.createElement(Q.a,{justify:"center",className:"info-row"},s.a.createElement(Z.a,{span:3},s.a.createElement(Et.a,{twoToneColor:"#096dd9",style:{fontSize:"30px"}})),s.a.createElement(Z.a,{xs:9,className:"key"},"H\u1ecd & T\xean:"),s.a.createElement(Z.a,{xs:12,className:"value"},e.name)),s.a.createElement(Q.a,{justify:"center",className:"info-row"},s.a.createElement(Z.a,{span:3},s.a.createElement(ht.a,{twoToneColor:"#096dd9",style:{fontSize:"30px"}})),s.a.createElement(Z.a,{xs:9,className:"key"},"Ng\xe0y c\u1eadp nh\u1eadt:"),s.a.createElement(Z.a,{xs:12,className:"value"},q(e.lastUpdated))))),!t&&s.a.createElement("div",{className:"balance-page loading"},s.a.createElement(ft,null)))}var Ft=r(94),Mt=r(27);r(396),r(397);function Tt(e){var t=e.name,r=e.size,n={backgroundColor:z(t.length)};return s.a.createElement(U.a,{style:n,size:r},k(t))}var It=r(148).HistoryResponse;function Bt(e){var t=e.type,r=e.amount,a=e.timestamp,o=e.message,l=e.friendId,c=Object(n.useState)("..."),p=Object(R.a)(c,2),u=p[0],m=p[1],d="Chuy\u1ec3n ti\u1ec1n t\u1edbi",f="-",v="history-item",g=Object(i.c)(e=>e.friends.friends[l]);return Object(n.useEffect)(()=>{var e;g?m(g.name):(e=l,new Promise((t,r)=>{var n=new M;n.setUserId(e),I.getUserInfo(n,Object(y.a)(),(e,n)=>{e?(console.log(e),r(e)):t(n.getUser())})})).then(e=>{m(e.getName())})}),t===It.Type.RECEIVE&&(d="Nh\u1eadn ti\u1ec1n t\u1eeb",f="+",v+=" receive"),s.a.createElement("div",{className:v},s.a.createElement(Q.a,null,s.a.createElement(Z.a,{span:4,className:"icon-col"},s.a.createElement(Tt,{name:u,size:40})),s.a.createElement(Z.a,{span:20},s.a.createElement(Q.a,null,s.a.createElement(Z.a,{xs:24,md:18},s.a.createElement("p",{className:"content"},d," ",u),s.a.createElement("p",{className:"time"},q(a)),s.a.createElement("p",{className:"message"},o)),s.a.createElement(Z.a,{xs:24,md:6,className:"money-col"},s.a.createElement("span",{className:"amount"},f," ",G(r)," VN\u0110"))))))}function Ot(e){var t=Object(y.c)(),r=e.month,n=e.items;return s.a.createElement("div",{className:"history-group"},s.a.createElement("p",null,"Th\xe1ng ",r),n.sort((e,t)=>t.id-e.id).map(e=>s.a.createElement(Bt,{type:e.type,friendId:e.senderId===t?e.receiverId:e.senderId,amount:e.amount,timestamp:e.timestamp,key:e.id,message:e.message})))}function St(){var e=Object(n.useState)({}),t=Object(R.a)(e,2),r=t[0],a=t[1],o=Object(n.useState)(!0),i=Object(R.a)(o,2),l=i[0],c=i[1],p=Object(n.useState)(0),u=Object(R.a)(p,2),m=u[0],d=u[1],f=0===Object.keys(r).length;function v(e){(function(e){var t=new rt;return t.setOffset(e),new Promise((e,r)=>{nt.getHistoryWithOffset(t,Object(y.a)(),(t,n)=>{t?(console.log(t),r(t)):n.getError()?(console.log(n.getError()),r(n.getError())):e(n.getData().getItemList())})})})(m).then(t=>{var n=Object(Mt.a)({},r);d(m+t.length);var s,o=Object(Ft.a)(t.reverse());try{for(o.s();!(s=o.n()).done;){var i=s.value,l=A(i.getTimestamp()),p={id:i.getId(),senderId:i.getSender(),receiverId:i.getReceiver(),timestamp:i.getTimestamp(),amount:i.getAmount(),message:i.getMessage(),type:i.getType()};void 0===n[A(i.getTimestamp())]?n[l]=[p]:n[l].push(p)}}catch(u){o.e(u)}finally{o.f()}a(n),c(!1),e&&e()}).catch(e=>{console.log(e)})}Object(n.useEffect)(()=>{v()},[]);return s.a.createElement("div",{className:"history-page",onScroll:e=>{var t=e.target,r=t.scrollTop;t.scrollHeight===r+t.clientHeight&&v(()=>{t.scrollTo(0,r)})}},s.a.createElement(ze,{title:"L\u1ecbch s\u1eed"}),!f&&s.a.createElement("div",{className:"history-list"},Object.keys(r).map(e=>s.a.createElement(Ot,{month:e,key:e,items:r[e]}))),f&&l&&s.a.createElement(ft,null),f&&!l&&s.a.createElement("div",{className:"history-list"},s.a.createElement(mt.a,{description:s.a.createElement("span",null,"B\u1ea1n ch\u01b0a th\u1ef1c hi\u1ec7n giao d\u1ecbch n\xe0o")})))}var wt=r(65),Nt=wt.Switch,jt=wt.Route;function Ct(){return s.a.createElement(Nt,null,s.a.createElement(jt,{path:"/t/:receiverId",component:Rt}),s.a.createElement(jt,{path:"/w/balance",component:bt}),s.a.createElement(jt,{path:"/w/history",component:St}),s.a.createElement(jt,{path:"/"}," ",s.a.createElement(vt,null)))}r(398);var Ut=function(){return s.a.createElement("div",{className:"scrollable messenger"},s.a.createElement(Se,null),s.a.createElement(Ct,null))},Dt=(r(399),s.a.lazy(()=>Promise.all([r.e(0),r.e(5)]).then(r.bind(null,443)))),Wt=s.a.lazy(()=>Promise.all([r.e(0),r.e(4)]).then(r.bind(null,444))),zt=r(65),Lt=zt.Switch,_t=zt.Route,kt=zt.Redirect;function Gt(){return Object(i.c)(e=>null!==e.user.jwt)?s.a.createElement(Ut,null):s.a.createElement(kt,{to:"/login"})}function qt(){return s.a.createElement(i.a,{store:ae.a},s.a.createElement("div",{className:"App"},s.a.createElement(H.BrowserRouter,null,s.a.createElement(n.Suspense,{fallback:s.a.createElement("div",null)},s.a.createElement(Lt,null,s.a.createElement(_t,{path:"/register",component:Dt}),s.a.createElement(_t,{path:"/login",component:Wt}),s.a.createElement(_t,{path:"/",component:Gt}))))))}Boolean("localhost"===window.location.hostname||"[::1]"===window.location.hostname||window.location.hostname.match(/^127(?:\.(?:25[0-5]|2[0-4][0-9]|[01]?[0-9][0-9]?)){3}$/));o.a.render(s.a.createElement(qt,null),document.getElementById("root")),"serviceWorker"in navigator&&navigator.serviceWorker.ready.then((function(e){e.unregister()}))},55:function(e,t,r){"use strict";var n=r(107),s=r(34),a=r(7);function o(){return{jwt:Object(s.b)(),userId:Object(s.c)()}}var i=o();var l={webSocketManager:null,send:null,close:null};var c=r(94),p=r(27);var u={friends:{},currentFriendId:null};var m={messages:{},scrollFlag:!1};var d={sideBarActive:!1,searchUserActive:!1,currentTab:"chat",friendReloadFlag:!0,currentWalletTab:"balance"};var f=Object(n.b)({user:function(e=i,t){var r=t.data;switch(t.type){case a.a.LOGIN_SUCCESS:e=function(e,t){return Object.assign({},e,{jwt:t.jwt,userId:t.userId})}(e,r);break;case a.a.LOGOUT:console.log("Handle logout"),e=o()}return e},webSocket:function(e=l,t){var r=t.data;switch(t.type){case a.a.WS_CONNECTED:e=function(e,t){return{webSocketManager:t.webSocketManager,send:t.send,close:t.close}}(0,r);break;case a.a.LOGOUT:e.close&&e.close(),e={webSocketManager:null,send:null,close:null}}return e},friends:function(e=u,t){var r=t.data;switch(t.type){case a.a.UPDATE_FRIEND_LIST:e=function(e,t){var r,n={},s=Object(c.a)(t);try{for(s.s();!(r=s.n()).done;){var a=r.value;n[a.id]=a}}catch(o){s.e(o)}finally{s.f()}return Object.assign({},e,{friends:n})}(e,r);break;case a.a.ONOFF:e=function(e,t){var r=e.friends[t.userId],n=Object(p.a)({},e.friends);r&&(n[t.userId]=Object(p.a)(Object(p.a)({},r),{},{online:t.status}));return Object.assign({},e,{friends:n})}(e,r);break;case a.a.SET_CURRENT_FRIEND:e=function(e,t){return Object(p.a)(Object(p.a)({},e),{},{currentFriendId:t})}(e,r);break;case a.a.LOGOUT:e={friends:{},currentFriendId:null};break;case a.a.CHAT_RECEIVE:e=function(e,t){var r=Object(p.a)({},e.friends),n=r[t.senderId];if(!n)return e;return n.numNotifications+=1,r[t.senderId]=Object(p.a)(Object(p.a)({},n),{},{lastMsg:t.message,lastMsgSender:t.senderId,lastMsgType:t.type,lastMsgTimestamp:t.timestamp}),Object(p.a)(Object(p.a)({},e),{},{friends:r})}(e,r);break;case a.a.CHAT_SENDBACK:e=function(e,t){var r=Object(p.a)({},e.friends),n=r[t.receiverId];if(!n)return e;return r[t.receiverId]=Object(p.a)(Object(p.a)({},n),{},{lastMsg:t.message,lastMsgSender:Object(s.c)(),lastMsgType:t.type,lastMsgTimestamp:t.timestamp}),Object(p.a)(Object(p.a)({},e),{},{friends:r})}(e,r);break;case a.a.CLEAR_NOTI:e=function(e,t){var r=Object(p.a)({},e.friends),n=e.friends[t];return r[t]=Object(p.a)(Object(p.a)({},n),{},{numNotifications:0}),Object(p.a)(Object(p.a)({},e),{},{friends:r})}(e,r)}return e},chat:function(e=m,t){var r=t.data;switch(t.type){case a.a.UPDATE_FRIEND_LIST:e=function(e,t){var r,n=e.messages,s=Object(c.a)(t);try{for(s.s();!(r=s.n()).done;){var a=r.value;n[a.id]||(n[a.id]=[])}}catch(o){s.e(o)}finally{s.f()}return Object.assign({},e,{messages:n})}(e,r);break;case a.a.CHAT_RECEIVE:e=function(e,t){var r=t.senderId,n=e.messages,s=n[r];if(!s)return e;return n[r]=[...s,t],Object.assign({},e,{messages:n,scrollFlag:!e.scrollFlag})}(e,r);break;case a.a.CHAT_SENDBACK:e=function(e,t){var r=e.messages,n=r[t.receiverId];if(!n)return e;return r[t.receiverId]=[...n,t],Object.assign({},e,{msgList:n,scrollFlag:!e.scrollFlag})}(e,r);break;case a.a.GET_MSG_FROM_API:e=function(e,t){var r=e.messages,n=r[t.friendId];if(!n)return e;return r[t.friendId]=[...t.messages,...n],Object.assign({},e,{messages:r})}(e,r);break;case a.a.LOGOUT:e={messages:{},scrollFlag:!1}}return e},ui:function(e=d,t){var r=t.type,n=t.data;return r===a.a.SET_SIDE_BAR?Object(p.a)(Object(p.a)({},e),{},{sideBarActive:n}):r===a.a.SET_SEARCH_MODAL?Object(p.a)(Object(p.a)({},e),{},{searchUserActive:n}):r===a.a.SET_TAB?Object(p.a)(Object(p.a)({},e),{},{currentTab:n}):r===a.a.FRIEND_RELOAD?Object(p.a)(Object(p.a)({},e),{},{friendReloadFlag:!e.friendReloadFlag}):r===a.a.SET_WALLET_TAB?Object(p.a)(Object(p.a)({},e),{},{currentWalletTab:n}):e}});t.a=Object(n.c)(f,window.__REDUX_DEVTOOLS_EXTENSION__&&window.__REDUX_DEVTOOLS_EXTENSION__())},7:function(e,t,r){"use strict";r.d(t,"a",(function(){return a})),r.d(t,"e",(function(){return o})),r.d(t,"o",(function(){return i})),r.d(t,"n",(function(){return l})),r.d(t,"f",(function(){return c})),r.d(t,"p",(function(){return p})),r.d(t,"h",(function(){return u})),r.d(t,"i",(function(){return m})),r.d(t,"d",(function(){return d})),r.d(t,"g",(function(){return f})),r.d(t,"k",(function(){return v})),r.d(t,"j",(function(){return g})),r.d(t,"l",(function(){return R})),r.d(t,"c",(function(){return y})),r.d(t,"m",(function(){return E})),r.d(t,"b",(function(){return h}));var n=r(27);function s(e,t){return{type:e,data:t}}var a={LOGIN_SUCCESS:"LOGIN_SUCCESS",UPDATE_FRIEND_LIST:"UPDATE_FRIEND_LIST",SET_CURRENT_FRIEND:"SET_CURRENT_FRIEND",LOGOUT:"LOGOUT",WS_CONNECTED:"WS_CONNECTED",CHAT_RECEIVE:"CHAT_RECEIVE",CHAT_SENDBACK:"CHAT_SENDBACK",GET_MSG_FROM_API:"GET_MSG_FROM_API",ONOFF:"ONOFF",SET_SIDE_BAR:"SIDEBAR_SET",SET_SEARCH_MODAL:"SET_SEARCH_MODAL",SET_TAB:"SET_TAB",FRIEND_RELOAD:"FRIEND_RELOAD",SET_WALLET_TAB:"SET_WALLET_TAB",CLEAR_NOTI:"CLEAR_NOTI"};function o(e,t){return s(a.LOGIN_SUCCESS,{jwt:e,userId:t})}function i(e){return s(a.UPDATE_FRIEND_LIST,e)}function l(e){return s(a.SET_CURRENT_FRIEND,e)}function c(){return s(a.LOGOUT)}function p(e,t,r){return s(a.WS_CONNECTED,{webSocket:e,send:t,close:r})}function u(e){return s(a.CHAT_RECEIVE,e)}function m(e){return s(a.CHAT_SENDBACK,e)}function d(e,t){return s(a.GET_MSG_FROM_API,Object(n.a)(Object(n.a)({},e),{},{friendId:t}))}function f(e,t){return s(a.ONOFF,{userId:e,status:t})}function v(e){return s(a.SET_SIDE_BAR,e)}function g(e){return s(a.SET_SEARCH_MODAL,e)}function R(e){return s(a.SET_TAB,e)}function y(){return s(a.FRIEND_RELOAD)}function E(e){return s(a.SET_WALLET_TAB,e)}function h(e){return s(a.CLEAR_NOTI,e)}},83:function(e,t,r){var n=r(142),s=n,a=Function("return this")();s.exportSymbol("proto.vmr.Empty",null,a),s.exportSymbol("proto.vmr.Error",null,a),s.exportSymbol("proto.vmr.ErrorCode",null,a),proto.vmr.Error=function(e){n.Message.initialize(this,e,0,-1,null,null)},s.inherits(proto.vmr.Error,n.Message),s.DEBUG&&!COMPILED&&(proto.vmr.Error.displayName="proto.vmr.Error"),n.Message.GENERATE_TO_OBJECT&&(proto.vmr.Error.prototype.toObject=function(e){return proto.vmr.Error.toObject(e,this)},proto.vmr.Error.toObject=function(e,t){var r,s={code:n.Message.getFieldWithDefault(t,1,0),message:n.Message.getFieldWithDefault(t,2,""),extraMap:(r=t.getExtraMap())?r.toObject(e,void 0):[]};return e&&(s.$jspbMessageInstance=t),s}),proto.vmr.Error.deserializeBinary=function(e){var t=new n.BinaryReader(e),r=new proto.vmr.Error;return proto.vmr.Error.deserializeBinaryFromReader(r,t)},proto.vmr.Error.deserializeBinaryFromReader=function(e,t){for(;t.nextField()&&!t.isEndGroup();){switch(t.getFieldNumber()){case 1:var r=t.readEnum();e.setCode(r);break;case 2:r=t.readString();e.setMessage(r);break;case 3:r=e.getExtraMap();t.readMessage(r,(function(e,t){n.Map.deserializeBinary(e,t,n.BinaryReader.prototype.readString,n.BinaryReader.prototype.readString,null,"")}));break;default:t.skipField()}}return e},proto.vmr.Error.prototype.serializeBinary=function(){var e=new n.BinaryWriter;return proto.vmr.Error.serializeBinaryToWriter(this,e),e.getResultBuffer()},proto.vmr.Error.serializeBinaryToWriter=function(e,t){var r=void 0;0!==(r=e.getCode())&&t.writeEnum(1,r),(r=e.getMessage()).length>0&&t.writeString(2,r),(r=e.getExtraMap(!0))&&r.getLength()>0&&r.serializeBinary(3,t,n.BinaryWriter.prototype.writeString,n.BinaryWriter.prototype.writeString)},proto.vmr.Error.prototype.getCode=function(){return n.Message.getFieldWithDefault(this,1,0)},proto.vmr.Error.prototype.setCode=function(e){n.Message.setProto3EnumField(this,1,e)},proto.vmr.Error.prototype.getMessage=function(){return n.Message.getFieldWithDefault(this,2,"")},proto.vmr.Error.prototype.setMessage=function(e){n.Message.setProto3StringField(this,2,e)},proto.vmr.Error.prototype.getExtraMap=function(e){return n.Message.getMapField(this,3,e,null)},proto.vmr.Error.prototype.clearExtraMap=function(){this.getExtraMap().clear()},proto.vmr.Empty=function(e){n.Message.initialize(this,e,0,-1,null,null)},s.inherits(proto.vmr.Empty,n.Message),s.DEBUG&&!COMPILED&&(proto.vmr.Empty.displayName="proto.vmr.Empty"),n.Message.GENERATE_TO_OBJECT&&(proto.vmr.Empty.prototype.toObject=function(e){return proto.vmr.Empty.toObject(e,this)},proto.vmr.Empty.toObject=function(e,t){var r={};return e&&(r.$jspbMessageInstance=t),r}),proto.vmr.Empty.deserializeBinary=function(e){var t=new n.BinaryReader(e),r=new proto.vmr.Empty;return proto.vmr.Empty.deserializeBinaryFromReader(r,t)},proto.vmr.Empty.deserializeBinaryFromReader=function(e,t){for(;t.nextField()&&!t.isEndGroup();){t.getFieldNumber();t.skipField()}return e},proto.vmr.Empty.prototype.serializeBinary=function(){var e=new n.BinaryWriter;return proto.vmr.Empty.serializeBinaryToWriter(this,e),e.getResultBuffer()},proto.vmr.Empty.serializeBinaryToWriter=function(e,t){},proto.vmr.ErrorCode={PASSWORD_INVALID:0,BALANCE_NOT_ENOUGH:1,RECEIVER_NOT_EXIST:2,INTERNAL_SERVER_ERROR:3,REQUEST_EXISTED:4,FAILUE:5,AMOUNT_NOT_VALID:6},s.object.extend(t,proto.vmr)}},[[211,2,3]]]);
//# sourceMappingURL=main.f7b6eb08.chunk.js.map